  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       1

                   * PROYECTO 2

                   *DECLARACION CONSTANTES

                   SCDR   EQU   $102F
                   SCCR2  EQU   $102D
                   SCSR   EQU   $102E
                   SCCR1  EQU   $102C
                   BAUD   EQU   $102B
                   HPRIO  EQU   $103C
                   SPCR   EQU   $1028
                   CSCTL  EQU   $105D
                   OPT2   EQU   $1038
                   DDRD   EQU   $1009

                   *DECLARACION DE VARIABLES PARA NUMEROS ROMANOS
                   ORDEN                                   EQU $0000
                   M                                       EQU $0016  *BANDERA
.                  DE LETRAS M
                   D                                       EQU $0017  *BANDERA
.                  DE LETRA D
                   C                                       EQU $0018  *BANDERA
.                  DE LETRA C
                   L                                       EQU $0019  *BANDERA
.                  DE LETRA L
                   XB                                      EQU $0020  *BANDERA
.                  DE LETRA X
                   V                                       EQU $0021  *BANDERA
.                  DE LETRA U
                   I                                       EQU $0022  *BANDERA
.                  DE LETRA I
                   O                                       EQU $0023  *BANDERA
.                  DEL OK
                   A                                               EQU $0001  *
.                  BANDERA FIN DE CADENA
                   BERROR                                  EQU $0002   * BANDERA
.                  DE ERROR
                   UNIDAD                                  EQU $0053   *
.                  DIRECCION PARA ESCRIBIR UNIDADES
                   DECENA                                  EQU $0052   *
.                  DIRECCION PARA ESCRIBIR DECENAS
                   CENTENA                                 EQU $0051  *
.                  DIRECCION PARA ESCRIBIR CENTENA
                   MIL                                     EQU $0050      *
.                  DIRECCION PARA ESCRIBIR UNIDADES DE MILLAR

                   *DECLARACION DE VARIABLES PARA NUMEROS ARABIGOS
                   DIR_RESULTADO                   EQU $0050
                   DIR_INPUT                       EQU $0030
                   DIR_TEXTUAL                             EQU $0070
                   BANDERA_TIPO_TRADUCCION EQU $0024

                   NUMCARAC                                EQU $0010
                   BERROR2                                 EQU $0003
.                  * ESTA CREO QUE NO SE USA...
                   BANDERA_ERROR                   EQU $0011      * BANDERA DE
.                  ERROR PARA ARABIGOS
                   BANDERA_TRADUCCION              EQU $0012  * BANDERA PARA
.                  SABER QUE TRADUCCION ES
                   CONTADOR                                EQU $0028
                   CONTADOR_EXT                    EQU $0010
                                           *------------------------------------
.                  --
                                           *  ESPACIO PARA LAS CADENAS A MOSTRAR
                                           *------------------------------------
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       2

.                  --
                                           ORG $3000
  3000 45 52 52 4F MENSAJE_E_ROMANO        FCC "ERROR, NUMERO ROMANO INVALIDO."
. 3004 52 2C 20 4E *29 CARACTERES
. 3008 55 00 45 52
. 300C 4F 20 52 4F
. 3010 4D 41 4E 36
. 3014 20 49 4E 56
. 3018 41 4C 49 44
. 301C 4F 2E
  301E 45 52 52 4F MENSAJE_E_ARABIGO       FCC "ERROR, NUMERO ARABIGO INVALIDO."
. 3022 52 2C 20 4E *30
. 3026 55 4D 45 52
. 302A 4F 20 41 52
. 302E 41 42 49 47
. 3032 4F 20 49 4E
. 3036 56 41 4C 49
. 303A 44 20 2E
  303D 45 52 52 4F MENSAJE_E_RANGO         FCC "ERROR, NUMERO FUERA DE RANGO."
. 3041 52 2C 20 4E *28
. 3045 55 4D 45 52
. 3049 4F 20 46 55
. 304D 45 52 41 20
. 3051 44 45 20 52
. 3055 41 4E 47 4F
. 3059 2E
                                           *------------------------------------
.                  --
                                           * FCC PARA LA TRADUCCION A LETRAS
                                           *------------------------------------
.                  --
  305A 75 6E 6F 20 UNO_L                           FCC "uno  "
. 305E 20
  305F 64 6F 73 20 DOS_L                           FCC "dos "
  3063 74 72 65 73 TRES_L                          FCC     "tres "
. 3067 20
  3068 63 75 61 74 CUATRO_L                        FCC     "cuatro "
. 306C 72 6F 20
  306F 63 69 6E 63 CINCO_L                         FCC     "cinco "
. 3073 6F 20
  3075 73 65 69 73 SEIS_L                          FCC     "seis "
. 3079 20
  307A 73 69 65 74 SIETE_L                         FCC     "siete "
. 307E 65 20
  3080 6F 63 68 6F OCHO_L                          FCC     "ocho "
. 3084 20
  3085 6E 75 65 76 NUEVE_L                         FCC     "nueve "
. 3089 65 20
  308B 64 69 65 63 DIECI_L                         FCC "dieci "
. 308F 69 20
  3091 64 69 65 7A DIEZ_L                          FCC     "diez "
. 3095 20
  3096 6F 6E 63 65 ONCE_L                          FCC "once "
. 309A 20
  309B 64 6F 63 65 DOCE_L                          FCC "doce "
. 309F 20
  30A0 74 72 65 63 TRECE_L                         FCC "trece "
. 30A4 65 20
  30A6 63 61 74 6F CATORCE_L                       FCC "catorce "
. 30AA 72 63 65 20
  30AE 71 75 69 6E QUINCE_L                        FCC "quince "
. 30B2 63 65 20
  30B5 64 69 65 63 DIECISEIS_L                     FCC "diecisEis "
. 30B9 69 73 45 69
. 30BD 73 20
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       3

  30BF 64 69 65 63 DIECISIETE_L            FCC "diecisiete "
. 30C3 69 73 69 65
. 30C7 74 65 20
  30CA 64 69 65 63 DIECIOCHO_L                     FCC "dieciocho "
. 30CE 69 6F 63 68
. 30D2 6F 20
  30D4 64 69 65 63 DIECINUEVE_L            FCC "diecinueve "
. 30D8 69 6E 75 65
. 30DC 76 65 20
  30DF 76 65 69 6E VEINTE_L                        FCC "veinte "
. 30E3 74 65 20
  30E6 76 65 69 6E VEINTIUNO_L                     FCC "veintiuno "
. 30EA 74 69 75 6E
. 30EE 6F 20
  30F0 76 65 69 6E VEINTIDOS_L                     FCC "veintidOs"
. 30F4 74 69 64 4F
. 30F8 73
  30F9 76 65 69 6E VEINTITRES_L            FCC "veintitrEs"
. 30FD 74 69 74 72
. 3101 45 73
  3103 76 65 69 6E VEINTICUATRO_L          FCC "veinticuatro "
. 3107 74 69 63 75
. 310B 61 74 72 6F
. 310F 20
  3110 76 65 69 6E VEINTICINCO_L           FCC "veinticinco "
. 3114 74 69 63 69
. 3118 6E 63 6F 20
  311C 76 65 69 6E VEINTISEIS_L            FCC "veintisEis "
. 3120 74 69 73 45
. 3124 69 73 20
  3127 76 65 69 6E VEINTISIETE_L           FCC "veintisiete "
. 312B 74 69 73 69
. 312F 65 74 65 20
  3133 76 65 69 6E VEINTIOCHO_L            FCC "veintiocho "
. 3137 74 69 6F 63
. 313B 68 6F 20
  313E 76 65 69 6E VEINTINUEVE_L           FCC "veintinueve "
. 3142 74 69 6E 75
. 3146 65 76 65 20
  314A 79 20       Y_L                                     FCC "y "
  314C 74 72 65 69 TREINTA_L                       FCC "treinta "
. 3150 6E 74 61 20
  3154 63 75 61 72 CUARENTA_L                      FCC "cuarenta "
. 3158 65 6E 74 61
. 315C 20
  315D 63 69 6E 63 CINCUENTA_L                     FCC "cincuenta "
. 3161 75 65 6E 74
. 3165 61 20
  3167 73 65 73 65 SESENTA_L                       FCC "sesenta "
. 316B 6E 74 61 20
  316F 73 65 74 65 SETENTA_L                       FCC "setenta "
. 3173 6E 74 61 20
  3177 6F 63 68 65 OCHENTA_L                       FCC "ochenta "
. 317B 6E 74 61 20
  317F 6E 6F 76 65 NOVENTA_L                       FCC "noventa "
. 3183 6E 74 61 20
  3187 63 69 65 6E CIEN_L                          FCC "cien "
. 318B 20
  318C 63 69 65 6E CIENTO_L                        FCC "ciento "
. 3190 74 6F 20
  3193 63 69 65 6E CIENTOS_L                       FCC "cientos "
. 3197 74 6F 73 20
  319B 71 75 69 6E QUINIENTOS_L            FCC "quinientos "
. 319F 69 65 6E 74
. 31A3 6F 73 20
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       4

  31A6 73 65 74 65 SETECIENTOS_L           FCC "setecientos "
. 31AA 63 69 65 6E
. 31AE 74 6F 73 20
  31B2 6E 6F 76 65 NOVECIENTOS_L           FCC "novecientos "
. 31B6 63 69 65 6E
. 31BA 74 6F 73 20
  31BE 6D 69 6C 20 MIL_L                           FCC "mil "
                                                   *----------------------------
.                  ----------
                                                   *  FCC PARA LA TRADUCCION
.                  ARABIGO - ROMANO
                                                   *----------------------------
.                  ----------
  31C2 43 20       CIEN                            FCC "C "                *100
  31C4 43 43 20    DOSCIENTOS          FCC "CC "                   *200
  31C7 43 43 43 20 TRESCIENTOS         FCC "CCC "          *300
  31CB 43 44 20    CUATROCIENTOS       FCC "CD "                   *400
  31CE 44 20       QUINIENTOS          FCC "D "                    *500
  31D0 44 43 20    SEISCIENTOS         FCC "DC "                   *600
  31D3 44 43 43 20 SETECIENTOS             FCC "DCC "              *700
  31D7 44 43 43 43 OCHOCIENTOS             FCC "DCCC "             *800
. 31DB 20
  31DC 43 4D 20    NOVECIENTOS             FCC "CM "               *900
  31DF 58 20       DIEZ                    FCC "X "            *10
  31E1 58 58 20    VEINTE              FCC "XX "           *20
  31E4 58 58 58 20 TREINTA                 FCC "XXX "          *30
  31E8 58 4C 20    CUARENTA            FCC "XL "           *40
  31EB 4C 20       CINCUENTA           FCC "L "            *50
  31ED 4C 58 20    SESENTA                         FCC "LX "           *60
  31F0 4C 58 58 20 SETENTA                         FCC "LXX "          *70
  31F4 4C 58 58 58 OCHENTA                         FCC "LXXX "         *80
. 31F8 20
  31F9 58 43 20    NOVENTA                         FCC "XC "               *90
  31FC 49 20       UNO                                     FCC "I "
.                  *1
  31FE 49 49 20    DOS                                     FCC "II "
.                  *2
  3201 49 49 49 20 TRES                            FCC "III "              *3
  3205 49 56 20    CUATRO                          FCC "IV "               *4
  3208 56 20       CINCO                           FCC "V "                *5
  320A 56 49 20    SEIS                            FCC "VI "               *6
  320D 56 49 49 20 SIETE                           FCC "VII "              *7
  3211 56 49 49 49 OCHO                            FCC "VIII "         *8
. 3215 20
  3216 49 58 20    NUEVE                           FCC "IX "           *9


                                   ORG $8000
                   INICIO
  8000 8E 00 FF                    LDS #$00FF              * Configuracion del
.                  puerto serial
  8003 BD 84 66                    JSR SERIAL              * SUBRUTINA PARA
.                  CONFIG EL PUERTO SERIAL
  8006 BD 84 D2                    JSR LIMPIEZA
  8009 BD 80 AA                    JSR INICIALIZAR

                   CICLATE1
  800C 86 3F                       LDAA    #'?
  800E 97 00                       STAA    ORDEN
                   CICLO
  8010 96 00                       LDAA    ORDEN
  8012 81 3F                       CMPA    #'?
  8014 27 FA                       BEQ     CICLO


  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       5

                   ENTRADA
  8016 81 3D               CMPA #61            *Valida que le llegue un = para
.                  saber que es fin de la cadena que mete el usuario
  8018 27 39                   BEQ TRADUCCION_A_ROMANO

  801A 81 4F               CMPA #'O  *CASO EN QUE RECIBA OK
  801C 27 21               BEQ CASOO_ARABIGO
  801E 81 4B               CMPA #'K
  8020 27 25               BEQ CASOOK_ARABIGO  *CASO EN QUE RECIBA UNA K

  8022 BD 80 E2                    JSR VALIDACION_ARABIGO          *REGRESA UN 1
.                  EN B SI ES ARABIGO
  8025 C1 01                       CMPB #1
  8027 26 0F                       BNE ENTRADA_INTERMEDIO_ROMANO



  8029 D6 10               LDAB    NUMCARAC
  802B C1 03               CMPB    #3
  802D 22 6E               BHI     ERROR_CANTIDAD       *POR SI YA LLEGARON LOS
.                  4 CARACTERES ES UN ERROR

  802F 5C                  INCB
  8030 D7 10               STAB NUMCARAC                       *INCREMENTAMOS EL
.                  DE CARACTERES

  8032 A7 00               STAA $00,X
  8034 08                  INX                         *CAMBIAMOS EL CONTADOR DE
.                  LA SIGUIENTE MEMORIA A ESCRIBIR

  8035 7E 80 0C            JMP CICLATE1

                   ENTRADA_INTERMEDIO_ROMANO
  8038 C6 02                       LDAB #2
  803A D7 24                       STAB BANDERA_TIPO_TRADUCCION
  803C 7E 82 90                    JMP ENTRADA_ROMANO

                   CASOO_ARABIGO
  803F D6 23                       LDAB O
  8041 5C                          INCB
  8042 D7 23                       STAB O
  8044 7E 80 0C                    JMP CICLATE1

                   CASOOK_ARABIGO
  8047 D6 23                       LDAB O
  8049 C1 00                       CMPB #0
  804B 27 50                       BEQ ERROR_CANTIDAD
  804D BD 80 AA                    JSR INICIALIZAR
                                   *JSR LIMPIEZA
  8050 7E 80 0C            JMP CICLATE1

                   TRADUCCION_A_ROMANO
  8053 C6 01                       LDAB #1
  8055 D7 24                       STAB BANDERA_TIPO_TRADUCCION

  8057 96 11                       LDAA BANDERA_ERROR
  8059 81 01                       CMPA #1
  805B 27 AF                       BEQ CICLATE1
  805D 18 CE 00 50                 LDY #DIR_RESULTADO      *DIRECCION DE
.                  ESCRITURA
  8061 CE 00 30                    LDX #DIR_INPUT      *DIRECCION DE NUMS
  8064 96 10                       LDAA NUMCARAC       *COMPARAMOS EL NUMERO DE
.                  CARACTERES
  8066 81 01                       CMPA #1
  8068 27 2A                       BEQ CASO_UNIDAD
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       6

  806A 81 02                       CMPA #2
  806C 27 22                       BEQ CASO_DECENA
  806E 81 03                       CMPA #3
  8070 27 1A                       BEQ CASO_CENTENA
  8072 81 04                       CMPA #4
  8074 27 03                       BEQ CASO_MILLAR

  8076 7E 80 0C                    JMP CICLATE1          *POR SI NO SE VALIDA
.                  BIEN


                   CASO_MILLAR

  8079 E6 00                       LDAB $00,X      *TOMAR EL PRIMER NUM CHAR Y
.                  PONERLO EN B
  807B C1 31               CMPB #$31       *
  807D 25 0D                       BLO CASO_CENTENA * VALIDA QUE SEA MAYOR A 0
.                  EN ASCII

                   CASO_ESCRIBE_MILLAR
  807F 86 4D                       LDAA #'M                * CARGA UNA M EN EL
.                  ACUMULADOR A
  8081 18 A7 00                    STAA $00,Y      * ESCRIBE EN LA DIR DE Y
  8084 18 08                       INY                     * INCREMENTAMOS Y
.                  PARA CONTINUAR ESCRIBIENDO
  8086 5A                          DECB            * DECREMENTAMOS B
  8087 C1 30                       CMPB #$30       * ASCII DE 0
  8089 26 F4                       BNE CASO_ESCRIBE_MILLAR       * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  808B 08                          INX             * PASAMOS AL SIGUIENTE NUM
.                  DIGITO

                   CASO_CENTENA
  808C BD 81 03                    JSR ESCRIBE_CENTENA
  808F 08                          INX
                   CASO_DECENA
                           * GUARDA EN A, EL VALOR DE X
  8090 BD 81 8E                    JSR ESCRIBE_DECENA
  8093 08                          INX
                   CASO_UNIDAD
  8094 BD 82 0A                    JSR ESCRIBE_UNIDAD
  8097 7E 85 42                    JMP MUCHO_TEXTO
  809A 7E 80 0C                    JMP CICLATE1

                   ERROR_CANTIDAD
  809D CE 00 50                    LDX #DIR_RESULTADO     * DIRECCION DEL
.                  MENSAJE
  80A0 18 CE 30 3D                 LDY #MENSAJE_E_RANGO    * ORG DE LOS FCC
  80A4 BD 80 F2                    JSR ERROR
  80A7 7E 80 0C                    JMP CICLATE1


                   INICIALIZAR
  80AA CE 00 30                    LDX #DIR_INPUT
  80AD 18 CE 00 50                 LDY #DIR_RESULTADO                      *ES
.                  50
  80B1 7F 00 24                    CLR BANDERA_TIPO_TRADUCCION
  80B4 7F 00 23                    CLR O
  80B7 7F 31 FC                    CLR UNO
  80BA 7F 00 03                    CLR BERROR2     *DEJA EN CERO LAS VARIABLES
  80BD 7F 00 10                    CLR NUMCARAC
  80C0 7F 00 11                    CLR BANDERA_ERROR
                   LIMONES
  80C3 C6 00                       LDAB #00
  80C5 18 E7 00                    STAB $00,Y
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       7

  80C8 18 08                       INY
  80CA 18 8C 00 C0                 CPY #$00C0
  80CE 26 F3                       BNE LIMONES
  80D0 18 CE 00 30                 LDY #DIR_INPUT  ** LA 30
                   LIMAS
  80D4 C6 00                       LDAB #00
  80D6 18 E7 00                    STAB $00,Y
  80D9 18 08                       INY
  80DB 18 8C 00 40                 CPY #$0040
  80DF 26 F3                       BNE LIMAS
  80E1 39                          RTS

                   VALIDACION_ARABIGO
  80E2 81 30                       CMPA #$30               *Valor 0
  80E4 25 07                       BLO ERROR_ARABIGO
  80E6 81 3A                       CMPA #$3A               * Valor 9
  80E8 22 03                       BHI ERROR_ARABIGO
  80EA C6 01                       LDAB #1
                   FIN_VALIDACION_ARABIGO
  80EC 39                          RTS

                   ERROR_ARABIGO
  80ED C6 04                       LDAB #4
  80EF 7E 80 EC                    JMP FIN_VALIDACION_ARABIGO



                   ERROR
  80F2 C6 01                       LDAB #1
  80F4 D7 11                       STAB BANDERA_ERROR
                   ERROR_CICLO1
  80F6 18 E6 00                    LDAB $00,Y              *TOMA CARACTER DEL
.                  FCC
  80F9 E7 00                       STAB $00,X      *ESCRIBE EL CHAR EN LA DIR DE
.                  X
  80FB 08                          INX
  80FC 18 08                       INY                     * INCREMENTAMOS X Y Y
  80FE C1 2E                       CMPB #46        * ASCII DE PUNTO
  8100 26 F4                       BNE ERROR_CICLO1       * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  8102 39                          RTS
                   ESCRIBE_CENTENA
  8103 3C                          PSHX        * RESPALDA/COPIA EL VALOR DE X
  8104 A6 00                       LDAA $00,X  * GUARDA EN A, EL CARACTER DE X
  8106 80 30                       SUBA #$30       * RESTA 30 PARA VER QUE
.                  NUMERO ES
  8108 81 01                       CMPA #1
  810A 27 22                       BEQ  NUM_1_CENTENA
  810C 81 02                       CMPA #2
  810E 27 27                       BEQ  NUM_2_CENTENA
  8110 81 03                       CMPA #3
  8112 27 2C                       BEQ  NUM_3_CENTENA
  8114 81 04                       CMPA #4
  8116 27 31                       BEQ  NUM_4_CENTENA
  8118 81 05                       CMPA #5
  811A 27 36                       BEQ  NUM_5_CENTENA
  811C 81 06                       CMPA #6
  811E 27 3B                       BEQ  NUM_6_CENTENA
  8120 81 07                       CMPA #7
  8122 27 40                       BEQ  NUM_7_CENTENA
  8124 81 08                       CMPA #8
  8126 27 45                       BEQ  NUM_8_CENTENA
  8128 81 09                       CMPA #9
  812A 27 4A                       BEQ  NUM_9_CENTENA
                   FIN_CENTENA
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       8

  812C 38                          PULX
  812D 39                  RTS
                   NUM_1_CENTENA
  812E CE 31 C2                    LDX #CIEN     * DIRECCION DE MEMORIA DE 100
                                   *LDY #CIEN_L
  8131 BD 81 7F                    JSR CICLO_ESCRITURA
  8134 7E 81 2C                    JMP FIN_CENTENA
                   NUM_2_CENTENA
  8137 CE 31 C4                    LDX #DOSCIENTOS     * DIRECCION DE MEMORIA DE
.                  200
                                   *LDY #DOS_L
                                   *LDY #MIL_L
  813A BD 81 7F                    JSR CICLO_ESCRITURA
  813D 7E 81 2C                    JMP FIN_CENTENA
                   NUM_3_CENTENA
  8140 CE 31 C7                    LDX #TRESCIENTOS     * DIRECCION DE MEMORIA
.                  DE 300
  8143 BD 81 7F                    JSR CICLO_ESCRITURA
  8146 7E 81 2C                    JMP FIN_CENTENA
                   NUM_4_CENTENA
  8149 CE 31 CB                    LDX #CUATROCIENTOS     * DIRECCION DE MEMORIA
.                  DE 400
  814C BD 81 7F                    JSR CICLO_ESCRITURA
  814F 7E 81 2C                    JMP FIN_CENTENA
                   NUM_5_CENTENA
  8152 CE 31 CE                    LDX #QUINIENTOS     * DIRECCION DE MEMORIA DE
.                  500
  8155 BD 81 7F                    JSR CICLO_ESCRITURA
  8158 7E 81 2C                    JMP FIN_CENTENA
                   NUM_6_CENTENA
  815B CE 31 D0                    LDX #SEISCIENTOS     * DIRECCION DE MEMORIA
.                  DE 600
  815E BD 81 7F                    JSR CICLO_ESCRITURA
  8161 7E 81 2C                    JMP FIN_CENTENA
                   NUM_7_CENTENA
  8164 CE 31 D3                    LDX #SETECIENTOS     * DIRECCION DE MEMORIA
.                  DE 700
  8167 BD 81 7F                    JSR CICLO_ESCRITURA
  816A 7E 81 2C                    JMP FIN_CENTENA
                   NUM_8_CENTENA
  816D CE 31 D7                    LDX #OCHOCIENTOS     * DIRECCION DE MEMORIA
.                  DE 800
  8170 BD 81 7F                    JSR CICLO_ESCRITURA
  8173 7E 81 2C                    JMP FIN_CENTENA
                   NUM_9_CENTENA
  8176 CE 31 DC                    LDX #NOVECIENTOS    * DIRECCION DE MEMORIA DE
.                  900
  8179 BD 81 7F                    JSR CICLO_ESCRITURA
  817C 7E 81 2C                    JMP FIN_CENTENA

                   CICLO_ESCRITURA
  817F E6 00               LDAB $00,X              * TOMA CARACTER DEL FCC
  8181 18 E7 00                    STAB $00,Y      * ESCRIBE EL CHAR EN LA DIR
.                  DE Y
  8184 08                          INX
  8185 18 08                       INY                     * INCREMENTAMOS X Y Y
  8187 C1 20                       CMPB #$20        * ASCII DE ESPACIO
  8189 26 F4                       BNE CICLO_ESCRITURA   * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  818B 18 09                       DEY
  818D 39                          RTS

                   ESCRIBE_DECENA
  818E 3C                          PSHX
  818F A6 00                       LDAA $00,X
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE       9

  8191 80 30                       SUBA #$30
  8193 81 01                       CMPA #1
  8195 27 22                       BEQ  NUM_1_DECENA
  8197 81 02                       CMPA #2
  8199 27 27                       BEQ  NUM_2_DECENA
  819B 81 03                       CMPA #3
  819D 27 2C                       BEQ  NUM_3_DECENA
  819F 81 04                       CMPA #4
  81A1 27 31                       BEQ  NUM_4_DECENA
  81A3 81 05                       CMPA #5
  81A5 27 36                       BEQ  NUM_5_DECENA
  81A7 81 06                       CMPA #6
  81A9 27 3B                       BEQ  NUM_6_DECENA
  81AB 81 07                       CMPA #7
  81AD 27 40                       BEQ  NUM_7_DECENA
  81AF 81 08                       CMPA #8
  81B1 27 45                       BEQ  NUM_8_DECENA
  81B3 81 09                       CMPA #9
  81B5 27 4A                       BEQ  NUM_9_DECENA
                   FIN_DECENA
  81B7 38                          PULX
  81B8 39                  RTS

                   NUM_1_DECENA
  81B9 CE 31 DF                    LDX #DIEZ     * DIRECCION DE MEMORIA DE 10
  81BC BD 81 7F                    JSR CICLO_ESCRITURA
  81BF 7E 81 B7                    JMP FIN_DECENA
                   NUM_2_DECENA
  81C2 CE 31 E1                    LDX #VEINTE     * DIRECCION DE MEMORIA DE 20
  81C5 BD 81 7F                    JSR CICLO_ESCRITURA
  81C8 7E 81 B7                    JMP FIN_DECENA
                   NUM_3_DECENA
  81CB CE 31 E4                    LDX #TREINTA     * DIRECCION DE MEMORIA DE 30
  81CE BD 81 7F                    JSR CICLO_ESCRITURA
  81D1 7E 81 B7                    JMP FIN_DECENA
                   NUM_4_DECENA
  81D4 CE 31 E8                    LDX #CUARENTA     * DIRECCION DE MEMORIA DE
.                  40
  81D7 BD 81 7F                    JSR CICLO_ESCRITURA
  81DA 7E 81 B7                    JMP FIN_DECENA
                   NUM_5_DECENA
  81DD CE 31 EB                    LDX #CINCUENTA     * DIRECCION DE MEMORIA DE
.                  50
  81E0 BD 81 7F                    JSR CICLO_ESCRITURA
  81E3 7E 81 B7                    JMP FIN_DECENA
                   NUM_6_DECENA
  81E6 CE 31 ED                    LDX #SESENTA     * DIRECCION DE MEMORIA DE 60
  81E9 BD 81 7F                    JSR CICLO_ESCRITURA
  81EC 7E 81 B7                    JMP FIN_DECENA
                   NUM_7_DECENA
  81EF CE 31 F0                    LDX #SETENTA     * DIRECCION DE MEMORIA DE 70
  81F2 BD 81 7F                    JSR CICLO_ESCRITURA
  81F5 7E 81 B7                    JMP FIN_DECENA
                   NUM_8_DECENA
  81F8 CE 31 F4                    LDX #OCHENTA     * DIRECCION DE MEMORIA DE 80
  81FB BD 81 7F                    JSR CICLO_ESCRITURA
  81FE 7E 81 B7                    JMP FIN_DECENA
                   NUM_9_DECENA
  8201 CE 31 F9                    LDX #NOVENTA     * DIRECCION DE MEMORIA DE 90
  8204 BD 81 7F                    JSR CICLO_ESCRITURA
  8207 7E 81 B7                    JMP FIN_DECENA

                   ESCRIBE_UNIDAD
  820A 3C                          PSHX
  820B A6 00                       LDAA $00,X
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      10

  820D 80 30                       SUBA #$30
  820F 81 01                       CMPA #1
  8211 27 22                       BEQ  NUM_1_UNIDAD
  8213 81 02                       CMPA #2
  8215 27 27                       BEQ  NUM_2_UNIDAD
  8217 81 03                       CMPA #3
  8219 27 2C                       BEQ  NUM_3_UNIDAD
  821B 81 04                       CMPA #4
  821D 27 31                       BEQ  NUM_4_UNIDAD
  821F 81 05                       CMPA #5
  8221 27 36                       BEQ  NUM_5_UNIDAD
  8223 81 06                       CMPA #6
  8225 27 3B                       BEQ  NUM_6_UNIDAD
  8227 81 07                       CMPA #7
  8229 27 40                       BEQ  NUM_7_UNIDAD
  822B 81 08                       CMPA #8
  822D 27 45                       BEQ  NUM_8_UNIDAD
  822F 81 09                       CMPA #9
  8231 27 4A                       BEQ  NUM_9_UNIDAD
                   FIN_UNIDAD
  8233 38                          PULX
  8234 39                  RTS

                   NUM_1_UNIDAD
  8235 CE 31 FC                    LDX #UNO     * DIRECCION DE MEMORIA DE 1
  8238 BD 81 7F                    JSR CICLO_ESCRITURA
  823B 7E 82 33                    JMP FIN_UNIDAD
                   NUM_2_UNIDAD
  823E CE 31 FE                    LDX #DOS     * DIRECCION DE MEMORIA DE 2
  8241 BD 81 7F                    JSR CICLO_ESCRITURA
  8244 7E 82 33                    JMP FIN_UNIDAD
                   NUM_3_UNIDAD
  8247 CE 32 01                    LDX #TRES     * DIRECCION DE MEMORIA DE 3
  824A BD 81 7F                    JSR CICLO_ESCRITURA
  824D 7E 82 33                    JMP FIN_UNIDAD
                   NUM_4_UNIDAD
  8250 CE 32 05                    LDX #CUATRO     * DIRECCION DE MEMORIA DE 4
  8253 BD 81 7F                    JSR CICLO_ESCRITURA
  8256 7E 82 33                    JMP FIN_UNIDAD
                   NUM_5_UNIDAD
  8259 CE 32 08                    LDX #CINCO     * DIRECCION DE MEMORIA DE 5
  825C BD 81 7F                    JSR CICLO_ESCRITURA
  825F 7E 82 33                    JMP FIN_UNIDAD
                   NUM_6_UNIDAD
  8262 CE 32 0A                    LDX #SEIS     * DIRECCION DE MEMORIA DE 6
  8265 BD 81 7F                    JSR CICLO_ESCRITURA
  8268 7E 82 33                    JMP FIN_UNIDAD
                   NUM_7_UNIDAD
  826B CE 32 0D                    LDX #SIETE     * DIRECCION DE MEMORIA DE 7
  826E BD 81 7F                    JSR CICLO_ESCRITURA
  8271 7E 82 33                    JMP FIN_UNIDAD
                   NUM_8_UNIDAD
  8274 CE 32 11                    LDX #OCHO     * DIRECCION DE MEMORIA DE 8
  8277 BD 81 7F                    JSR CICLO_ESCRITURA
  827A 7E 82 33                    JMP FIN_UNIDAD
                   NUM_9_UNIDAD
  827D CE 32 16                    LDX #NUEVE     * DIRECCION DE MEMORIA DE 9
  8280 BD 81 7F                    JSR CICLO_ESCRITURA
  8283 7E 82 33                    JMP FIN_UNIDAD

                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      11

.                  **********************
                   *************************************************************
.                  **********************
                   *                   TRADUCCION DE ROMANO
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************

                   CICLATE
  8286 86 3F                       LDAA    #'?
  8288 97 00                       STAA    ORDEN
                   CUENTA
  828A 96 00               LDAA    ORDEN
  828C 81 3F               CMPA    #'?
  828E 27 FA               BEQ     CUENTA

                   ENTRADA_ROMANO
  8290 D6 10                       LDAB NUMCARAC
  8292 C1 00                       CMPB #0
  8294 26 0B                       BNE ERROR1
  8296 81 4D               CMPA #'M
  8298 27 0D               BEQ CASOM
  829A 81 44               CMPA #'D
  829C 27 3A               BEQ CASOD
  829E 7E 83 06            JMP SALTOINTERMEDIO1

                   ERROR1
  82A1 BD 84 82                    JSR ERROR_ESCRITURA
  82A4 7E 84 51                    JMP FIN

                   CASOM
  82A7 D6 18                       LDAB C                  *Verifica que le haya
.                  llegado una C ANTES para el caso de CM
  82A9 C1 00               CMPB #0
  82AB 26 19               BNE CASOM1


  82AD D6 16                       LDAB M
  82AF C1 08                       CMPB #8         *Verifica que no sean ms de 9
.                  M's
  82B1 22 EE                       BHI ERROR1

  82B3 BD 84 A1                    JSR D_ERROR

  82B6 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  82B8 08                          INX
  82B9 D6 16               LDAB M
  82BB 5C                  INCB
  82BC D7 16               STAB M
  82BE D6 50               LDAB MIL
  82C0 5C                  INCB
  82C1 D7 50               STAB MIL
  82C3 7E 82 86            JMP CICLATE

                   *CASO DONDE LLEGUE CM
                   CASOM1
  82C6 C1 01                       CMPB #1         *Compara si hay una segunda C
  82C8 22 D7                       BHI ERROR1
  82CA CB 05                       ADDB #5
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      12

  82CC D7 18                       STAB C          *Carga en C el valor de 5
  82CE C6 09                       LDAB #9
  82D0 D7 51               STAB CENTENA    *Carga en las centenas el valor de 9
  82D2 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  82D4 08                          INX             *Aumenta la X en 1
  82D5 7E 82 86            JMP CICLATE     *Regresa a esperar

                   CASOD

  82D8 BD 84 B1                    JSR L_ERROR
  82DB D6 17                       LDAB D
  82DD 5C                  INCB
  82DE D7 17               STAB D
  82E0 C1 02                       CMPB #2
  82E2 27 BD                       BEQ ERROR1
.                  *VALIDA QUE NO LLEGUEN 2 O MS D's
  82E4 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  82E6 08                          INX
  82E7 D6 18               LDAB C
  82E9 C1 00               CMPB #0
  82EB 26 07               BNE CASOD1
  82ED C6 05               LDAB #5
  82EF D7 51               STAB CENTENA
  82F1 7E 82 86            JMP CICLATE
                   CASOD1
                   ***** CASO CD
  82F4 C1 01                       CMPB #1
  82F6 22 4E                       BHI ERROR_1     *Compara si hay ms de una C
  82F8 CB 05                       ADDB #5
  82FA D7 18                       STAB C          *Carga en C el valor de 5,
.                  porque? ####
  82FC C6 04                       LDAB #4
  82FE D7 51               STAB CENTENA    *Carga en las centenas el valor de 4
  8300 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8302 08                          INX             *Aumenta la X en 1
  8303 7E 82 86            JMP CICLATE     *Regresa a esperar


                   SALTOINTERMEDIO1
  8306 81 43                       CMPA #'C
  8308 27 07               BEQ CASOC
  830A 81 4C                       CMPA #'L
  830C 27 3E               BEQ CASOL
  830E 7E 83 7A                    JMP SALTOINTERMEDIO

                   *C ES UNA BANDERA A FUTURO PARA ERRORES
                   CASOC
  8311 D6 20                       LDAB XB
.                  *VERIFICA QUE LLEGUE UN XC
  8313 C1 00                       CMPB #0
  8315 26 1D                       BNE CASOC1
  8317 D6 18                       LDAB C
  8319 C1 04                       CMPB #4
  831B 22 29                       BHI ERROR_1

  831D BD 84 B1                    JSR L_ERROR

  8320 D6 18                       LDAB C
  8322 5C                  INCB
  8323 D7 18               STAB C
  8325 C1 04                       CMPB #4
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      13

  8327 27 1D                       BEQ ERROR_1             *VALIDA QUE NO
.                  LLEGUEN 4 O MS C's
  8329 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  832B 08                          INX
  832C D6 51                       LDAB CENTENA
  832E 5C                  INCB
  832F D7 51               STAB CENTENA
  8331 7E 82 86            JMP CICLATE

                   *CASO POR SI LLEGA UN XC
                   CASOC1
  8334 C1 01                       CMPB #1
  8336 22 0E                       BHI ERROR_1  * SI ES HAY MS DE UNA C ES ERROR
  8338 CB 05                       ADDB #5          *PARA FUTURO ERROR XCX
  833A D7 20                       STAB XB
  833C C6 09                       LDAB #9
  833E D7 52                       STAB DECENA
  8340 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8342 08                          INX
  8343 7E 82 86                    JMP CICLATE

                   ERROR_1
  8346 BD 84 82                    JSR ERROR_ESCRITURA
  8349 7E 84 51                    JMP FIN

                   CASOL
  834C D6 20                       LDAB XB
  834E C1 00                       CMPB #0
  8350 26 16                       BNE CASOL1
  8352 BD 84 C1                    JSR V_ERROR
  8355 D6 19                       LDAB L
  8357 5C                  INCB
  8358 D7 19               STAB L
  835A C1 02                       CMPB #2
  835C 27 E8                       BEQ ERROR_1             *VALIDA QUE NO
.                  LLEGUEN 2 O MS L's
  835E A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8360 08                          INX
  8361 C6 05                       LDAB #5
  8363 D7 52               STAB DECENA

  8365 7E 82 86            JMP CICLATE

                   *PARA CUANDO LLEGA XL
                   CASOL1
  8368 C1 01                       CMPB #1
  836A 22 DA                       BHI ERROR_1     *Compara si hay ms de una X
  836C CB 05                       ADDB #5
  836E D7 20                       STAB XB          *Suma en X el valor de 5,
.                  porque? ####
  8370 C6 04                       LDAB #4
  8372 D7 52               STAB DECENA     *Carga en las centenas el valor de 4
  8374 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8376 08                          INX             *Siguiente Direccion de
.                  escritura
  8377 7E 82 86            JMP CICLATE     *Regresa a esperar

                                             **********SALTO INTERMEDIO
                   SALTOINTERMEDIO
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      14

  837A 81 58                       CMPA #'X
  837C 27 0B               BEQ CASOX
  837E 81 56               CMPA #'V
  8380 27 42               BEQ CASOV
  8382 81 49               CMPA #'I
  8384 27 78               BEQ CASOI

  8386 7E 83 EF                    JMP SALTOINTERMEDIO2

                   CASOX
  8389 BD 84 C1                    JSR V_ERROR
  838C D6 22                       LDAB I
  838E C1 00                       CMPB #0                 *VALIDA EL CASO IX
  8390 26 20                       BNE CASOX1
  8392 D6 20                       LDAB XB
  8394 5C                  INCB
  8395 D7 20               STAB XB
  8397 C1 03                       CMPB #3
  8399 22 AB                       BHI ERROR_1
  839B D6 21                       LDAB V
  839D C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA X
  839F 26 A5                       BNE ERROR_1


  83A1 A7 00                       STAA $00,X                      *Escribir a
.                  partir de la memoria $70 lo que le mande el usuario
  83A3 08                          INX
  83A4 D6 52                       LDAB DECENA
  83A6 5C                          INCB
  83A7 D7 52                       STAB DECENA
  83A9 7E 82 86            JMP CICLATE

                   ERROR_2
  83AC BD 84 82                    JSR ERROR_ESCRITURA
  83AF 7E 84 51                    JMP FIN
                   *CUANDO LLEGUE UN IX
                   CASOX1
  83B2 C1 01                       CMPB #1
  83B4 22 90                       BHI ERROR_1
  83B6 CB 06                       ADDB #6
  83B8 D7 22                       STAB I
  83BA C6 09                       LDAB #9
  83BC D7 53                       STAB UNIDAD
  83BE A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  83C0 08                          INX
  83C1 7E 82 86                    JMP CICLATE

                   CASOV
  83C4 D6 22                       LDAB I
  83C6 C1 00                       CMPB #0
  83C8 26 13                       BNE CASOV1
  83CA D6 21                       LDAB V
  83CC 5C                          INCB
  83CD D7 21                       STAB V
  83CF C1 02                       CMPB #2
  83D1 27 D9                       BEQ ERROR_2             *VALIDA QUE NO
.                  LLEGUEN 2 O MS V's       _2
  83D3 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  83D5 08                          INX
  83D6 C6 05                       LDAB #5
  83D8 D7 53                       STAB UNIDAD
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      15

  83DA 7E 82 86                    JMP CICLATE

                   *CUANDO LLEGUE UN IV
                   CASOV1
  83DD C1 01                       CMPB #1
  83DF 22 CB                       BHI ERROR_2
  83E1 CB 06                       ADDB #6
  83E3 D7 22                       STAB I
  83E5 C6 04                       LDAB #4
  83E7 D7 53                       STAB UNIDAD
  83E9 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  83EB 08                          INX
  83EC 7E 82 86                    JMP CICLATE

                   SALTOINTERMEDIO2
  83EF 81 4F               CMPA #'O  *CASO EN QUE RECIBA OK
  83F1 27 1F               BEQ CASOO
  83F3 81 4B               CMPA #'K
  83F5 27 23               BEQ CASOOK
  83F7 81 3D                       CMPA #61            *Valida que le llegue un
.                  = para saber que es fin de la cadena que mete el usuario
  83F9 27 34                       BEQ ESCRIBECHAR
  83FB 7E 84 2C                    JMP SALTOINTERMEDIO1_ERROR

                   CASOI

  83FE D6 22                       LDAB I
  8400 5C                          INCB
  8401 D7 22                       STAB I
  8403 C1 03                       CMPB #3
  8405 22 A5                       BHI ERROR_2
  8407 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8409 08                          INX
  840A D6 53                       LDAB UNIDAD
  840C 5C                          INCB
  840D D7 53                       STAB UNIDAD
  840F 7E 82 86                    JMP CICLATE

                   CASOO
  8412 D6 23                       LDAB O
  8414 5C                          INCB
  8415 D7 23                       STAB O
  8417 7E 84 51                    JMP FIN

                   CASOOK
  841A D6 23                       LDAB O
  841C C1 00                       CMPB #0
  841E 26 03                       BNE LIMPIEZA_SALTO      * Si existe una O
  8420 7E 80 0C                    JMP CICLATE1
                   LIMPIEZA_SALTO
  8423 BD 84 D2                    JSR LIMPIEZA
  8426 BD 80 AA                    JSR INICIALIZAR
  8429 7E 80 0C                    JMP CICLATE1

                   SALTOINTERMEDIO1_ERROR
  842C 7E 82 A1                    JMP ERROR1

                   ESCRIBECHAR
  842F D6 02                       LDAB BERROR
  8431 C1 01                       CMPB #1
  8433 27 F7                       BEQ SALTOINTERMEDIO1_ERROR
  8435 C6 30                       LDAB #48  * Es el ascii de 0 en decimal
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      16

  8437 96 50                       LDAA MIL
  8439 1B                          ABA
  843A 97 50                       STAA MIL
  843C 96 51                       LDAA CENTENA
  843E 1B                          ABA
  843F 97 51                       STAA CENTENA
  8441 96 52                       LDAA DECENA
  8443 1B                          ABA
  8444 97 52                       STAA DECENA
  8446 96 53                       LDAA UNIDAD
  8448 1B                          ABA
  8449 97 53                       STAA UNIDAD
  844B 7E 85 42                    JMP MUCHO_TEXTO
  844E 7E 84 51                    JMP FIN

                   FIN
  8451 86 3F                       LDAA    #'?
  8453 97 00                       STAA    ORDEN
                   CICLO1
  8455 96 00                       LDAA    ORDEN
  8457 81 3F                       CMPA    #'?

  8459 27 FA                       BEQ     CICLO1
  845B 81 4F                       CMPA #'O
  845D 27 B3                       BEQ CASOO
  845F 81 4B                       CMPA #'K
  8461 27 B7                       BEQ CASOOK
  8463 7E 84 51                    JMP FIN

                   *Configuracion del puerto serial
                   SERIAL
  8466 CC 30 2C            LDD   #$302C  * CONFIGURA PUERTO SERIAL
  8469 B7 10 2B            STAA  BAUD    * BAUD  9600  para cristal de 8MHz
  846C F7 10 2D            STAB  SCCR2   * HABILITA  RX Y TX PERO INTERRUPCN
.                  SOLO RX
  846F 86 00               LDAA  #$00
  8471 B7 10 2C            STAA  SCCR1   * 8 BITS

  8474 86 FE                   LDAA  #$FE    * CONFIG PUERTO D COMO SALIDAS
.                  (EXCEPTO PD0)
  8476 B7 10 09            STAA  DDRD    * SEA  ENABLE DEL DISPLAY  PD4  Y RS
.                  PD3


  8479 86 04               LDAA  #$04
  847B B7 10 3C            STAA  HPRIO

  847E 86 00                       LDAA  #$00
  8480 06                  TAP
  8481 39                  RTS

                   ERROR_ESCRITURA
  8482 D6 02                       LDAB BERROR
  8484 5C                          INCB
  8485 D7 02                       STAB BERROR
  8487 CE 00 50                    LDX #DIR_RESULTADO     * DIRECCION DEL
.                  MENSAJE
  848A 18 CE 30 00                 LDY #$3000     * ORG DE LOS FCC
                   ERROR_CICLO
  848E 18 E6 00                    LDAB $00,Y
  8491 E7 00                       STAB $00,X
  8493 08                          INX
  8494 18 08                       INY
  8496 C1 2E                       CMPB #46        * ASCII DE PUNTO
  8498 26 F4                       BNE ERROR_CICLO
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      17

  849A 39                          RTS


                   ERROR_SALTO
  849B BD 84 82                    JSR ERROR_ESCRITURA
  849E 7E 84 D1                    JMP FIN_ERROR

                   D_ERROR
  84A1 D6 17                       LDAB D
  84A3 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  84A5 26 F4                       BNE ERROR_SALTO

  84A7 81 4D                       CMPA #'M
  84A9 27 06                       BEQ L_ERROR             * VALIDAR QUE M SI
.                  PUEDE TENER UNA C ANTES
                   C_ERROR
  84AB D6 18                       LDAB C
  84AD C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  84AF 26 EA                       BNE ERROR_SALTO
                   L_ERROR
  84B1 D6 19                       LDAB L
  84B3 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  L's ANTES DE LA M
  84B5 26 E4                       BNE ERROR_SALTO
  84B7 81 43                       CMPA #'C
  84B9 27 06                       BEQ V_ERROR             * VALIDAR QUE C SI
.                  PUEDE TENER UNA X ANTES
                   X_ERROR
  84BB D6 20                       LDAB XB
  84BD C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  X's ANTES DE LA M
  84BF 26 DA                       BNE ERROR_SALTO
                   V_ERROR
  84C1 D6 21                       LDAB V
  84C3 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA M
  84C5 26 D4                       BNE ERROR_SALTO
  84C7 81 58                       CMPA #'X
  84C9 27 06                       BEQ FIN_ERROR           * VALIDAR QUE X SI
.                  PUEDE TENER UNA I ANTES
                   I_ERROR
  84CB D6 22                       LDAB I
  84CD C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  I's ANTES DE LA M
  84CF 26 CA                       BNE ERROR_SALTO
                   FIN_ERROR
  84D1 39                          RTS

                   LIMPIEZA
  84D2 7F 00 16            CLR M
  84D5 7F 00 17            CLR D
  84D8 7F 00 18            CLR C
  84DB 7F 00 19            CLR L
  84DE 7F 00 20            CLR XB
  84E1 7F 00 21            CLR V
  84E4 7F 00 22            CLR I
  84E7 7F 00 01            CLR A
  84EA 7F 00 10            CLR NUMCARAC
  84ED 7F 00 24            CLR BANDERA_TIPO_TRADUCCION
  84F0 7F 00 02            CLR BERROR
  84F3 7F 00 53            CLR UNIDAD
  84F6 7F 00 52            CLR DECENA
  84F9 7F 00 51            CLR CENTENA
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      18

  84FC 7F 00 50            CLR MIL
  84FF 7F 00 12            CLR BANDERA_TRADUCCION
  8502 CE 00 50            LDX #DIR_RESULTADO
  8505 18 CE 00 30         LDY #DIR_INPUT
                   LIM
  8509 C6 00               LDAB #00
  850B 18 E7 00            STAB $00,Y   ** EMPIEZA EN LA $50
  850E 18 08               INY
  8510 18 8C 00 C0         CPY #$00C0   ** TERMINA EN LA 70
  8514 26 F3               BNE LIM
  8516 18 CE 00 30         LDY #DIR_INPUT  ** EMPIEZA EN LA 30
                   LIM2
  851A C6 00               LDAB #00
  851C 18 E7 00            STAB $00,Y
  851F 18 08               INY
  8521 18 8C 00 40         CPY #$0040     ** TERMINA EN LA 40
  8525 26 F3               BNE LIM2
  8527 39                  RTS



                   ORIGEN_ARABIGO
                           * JSR DESPLAZA_ARABIGOS
  8528 18 CE 00 30         LDY #DIR_INPUT       ** EL INPUT
  852C 7E 85 4C            JMP ESCRIBE_MUCHO_TEXTO
                   ORIGEN_ROMANO
  852F 18 CE 00 50         LDY #DIR_RESULTADO       ** LA TRADUCCION
  8533 18 A6 00            LDAA $00,Y
  8536 7E 85 5F            JMP ENTRADA_MILES

                   ENTRADA_INTERMEDIA_UNIDADES
  8539 7E 88 E1            JMP ENTRADA_UNIDADES
                   ENTRADA_INTERMEDIA_DECENAS
  853C 7E 86 BC            JMP ENTRADA_DECENAS
                   ENTRADA_INTERMEDIA_CENTENAS
  853F 7E 85 F0            JMP ENTRADA_CENTENAS

                   **SUBRUTINA PARA ESCRIBIR LOS NUMEROS TEXTUALES
                   MUCHO_TEXTO
  8542 D6 24               LDAB BANDERA_TIPO_TRADUCCION
  8544 C1 01               CMPB #1
  8546 27 E0               BEQ ORIGEN_ARABIGO
  8548 C1 02               CMPB #2
  854A 27 E3               BEQ ORIGEN_ROMANO
                   ESCRIBE_MUCHO_TEXTO
  854C CE 00 70            LDX #DIR_TEXTUAL
  854F D6 10               LDAB NUMCARAC
  8551 D7 A0               STAB $00A0
  8553 C1 01               CMPB #1
  8555 27 E2               BEQ ENTRADA_INTERMEDIA_UNIDADES
  8557 C1 02               CMPB #2
  8559 27 E1               BEQ ENTRADA_INTERMEDIA_DECENAS
  855B C1 03               CMPB #3
  855D 27 E0               BEQ ENTRADA_INTERMEDIA_CENTENAS
                   ENTRADA_MILES
  855F CE 00 70            LDX #DIR_TEXTUAL
  8562 18 E6 00            LDAB $00,Y                              ** CARACTER
  8565 18 3C               PSHY
  8567 C1 30               CMPB #'0
  8569 27 24               BEQ ESCRIBE_MIL_FIN
  856B C1 31               CMPB #'1
  856D 27 27               BEQ ESCRIBE_MIL
  856F C1 32               CMPB #'2
  8571 27 2D               BEQ ESCRIBE_DOS_MIL
  8573 C1 33               CMPB #'3
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      19

  8575 27 33               BEQ ESCRIBE_TRES_MIL
  8577 C1 34               CMPB #'4
  8579 27 39               BEQ ESCRIBE_CUATRO_MIL
  857B C1 35               CMPB #'5
  857D 27 3F               BEQ ESCRIBE_CINCO_MIL
  857F C1 36               CMPB #'6
  8581 27 45               BEQ ESCRIBE_SEIS_MIL
  8583 C1 37               CMPB #'7
  8585 27 4B               BEQ ESCRIBE_SIETE_MIL
  8587 C1 38               CMPB #'8
  8589 27 51               BEQ ESCRIBE_OCHO_MIL
  858B C1 39               CMPB #'9
  858D 27 57               BEQ ESCRIBE_NUEVE_MIL

                   ESCRIBE_MIL_FIN
  858F 18 38               PULY
  8591 18 08               INY
  8593 7E 85 F0            JMP ENTRADA_CENTENAS

                   ESCRIBE_MIL
  8596 18 CE 31 BE         LDY #MIL_L
  859A BD 89 66            JSR CICLO_MUCHO_TEXTO
  859D 7E 85 8F            JMP ESCRIBE_MIL_FIN

                   ESCRIBE_DOS_MIL
  85A0 18 CE 30 5F         LDY #DOS_L
  85A4 BD 89 66            JSR CICLO_MUCHO_TEXTO
  85A7 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_TRES_MIL
  85AA 18 CE 30 63         LDY #TRES_L
  85AE BD 89 66            JSR CICLO_MUCHO_TEXTO
  85B1 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_CUATRO_MIL
  85B4 18 CE 30 68         LDY #CUATRO_L
  85B8 BD 89 66            JSR CICLO_MUCHO_TEXTO
  85BB 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_CINCO_MIL
  85BE 18 CE 30 6F         LDY #CINCO_L
  85C2 BD 89 66            JSR CICLO_MUCHO_TEXTO
  85C5 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_SEIS_MIL
  85C8 18 CE 30 75         LDY #SEIS_L
  85CC BD 89 66            JSR CICLO_MUCHO_TEXTO
  85CF 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_SIETE_MIL
  85D2 18 CE 30 7A         LDY #SIETE_L
  85D6 BD 89 66             JSR CICLO_MUCHO_TEXTO
  85D9 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_OCHO_MIL
  85DC 18 CE 30 80         LDY #OCHO_L
  85E0 BD 89 66            JSR CICLO_MUCHO_TEXTO
  85E3 7E 85 96            JMP ESCRIBE_MIL

                   ESCRIBE_NUEVE_MIL
  85E6 18 CE 30 85         LDY #NUEVE_L
  85EA BD 89 66            JSR CICLO_MUCHO_TEXTO
  85ED 7E 85 96            JMP ESCRIBE_MIL

                   ENTRADA_CENTENAS
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      20

  85F0 18 E6 00            LDAB $00,Y                              ** CARACTER
  85F3 18 3C               PSHY
  85F5 C1 30               CMPB #'0
  85F7 27 1E               BEQ  ESCRIBE_CIENTOS_FIN
  85F9 C1 31               CMPB #'1
  85FB 27 21               BEQ ESCRIBE_CIEN
  85FD C1 32               CMPB #'2
  85FF 27 53               BEQ ESCRIBE_DOS_CIENTOS
  8601 C1 33               CMPB #'3
  8603 27 5A               BEQ ESCRIBE_TRES_CIENTOS
  8605 C1 34               CMPB #'4
  8607 27 61               BEQ ESCRIBE_CUATRO_CIENTOS
  8609 C1 35               CMPB #'5
  860B 27 68               BEQ ESCRIBE_CINCO_CIENTOS
  860D 7E 86 7F            JMP OTRAS_CENTENAS
                   ESCRIBE_CIENTOS
  8610 18 CE 31 93         LDY #CIENTOS_L
  8614 BD 89 66            JSR CICLO_MUCHO_TEXTO
                   ESCRIBE_CIENTOS_FIN
  8617 18 38               PULY
  8619 18 08               INY
  861B 7E 86 BC            JMP ENTRADA_DECENAS

                   ESCRIBE_CIEN

  861E 18 38               PULY
  8620 18 08               INY
  8622 18 E6 00            LDAB $00,Y
  8625 C1 30               CMPB #'0
  8627 18 09               DEY
  8629 18 3C               PSHY
  862B 26 1D               BNE ESCRIBE_CIENTO
                           * CHECAMOS UNIDADES
  862D 18 38               PULY
  862F 18 08               INY
  8631 18 08               INY
  8633 18 E6 00            LDAB $00,Y
  8636 C1 30               CMPB #'0
  8638 18 09               DEY
  863A 18 09               DEY
  863C 18 3C               PSHY
  863E 26 0A               BNE ESCRIBE_CIENTO

  8640 18 CE 31 87         LDY #CIEN_L
  8644 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8647 7E 86 17            JMP ESCRIBE_CIENTOS_FIN

                   ESCRIBE_CIENTO
  864A 18 CE 31 8C         LDY #CIENTO_L
  864E BD 89 66            JSR CICLO_MUCHO_TEXTO
  8651 7E 86 17            JMP ESCRIBE_CIENTOS_FIN

                   ESCRIBE_DOS_CIENTOS
  8654 18 CE 30 5F         LDY #DOS_L
  8658 BD 89 66            JSR CICLO_MUCHO_TEXTO
  865B 09                  DEX
  865C 7E 86 10            JMP ESCRIBE_CIENTOS

                   ESCRIBE_TRES_CIENTOS
  865F 18 CE 30 63         LDY #TRES_L
  8663 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8666 09                  DEX
  8667 7E 86 10            JMP ESCRIBE_CIENTOS

                   ESCRIBE_CUATRO_CIENTOS
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      21

  866A 18 CE 30 68         LDY #CUATRO_L
  866E BD 89 66            JSR CICLO_MUCHO_TEXTO
  8671 09                  DEX
  8672 7E 86 10            JMP ESCRIBE_CIENTOS

                   ESCRIBE_CINCO_CIENTOS
  8675 18 CE 31 9B         LDY #QUINIENTOS_L
  8679 BD 89 66            JSR CICLO_MUCHO_TEXTO
  867C 7E 86 17            JMP ESCRIBE_CIENTOS_FIN

                   OTRAS_CENTENAS
  867F C1 36               CMPB #'6
  8681 27 0F               BEQ ESCRIBE_SEIS_CIENTOS
  8683 C1 37               CMPB #'7
  8685 27 16               BEQ ESCRIBE_SIETE_CIENTOS
  8687 C1 38               CMPB #'8
  8689 27 1C               BEQ ESCRIBE_OCHO_CIENTOS
  868B C1 39               CMPB #'9
  868D 27 23               BEQ ESCRIBE_NUEVE_CIENTOS
  868F 7E 86 10            JMP ESCRIBE_CIENTOS

                   ESCRIBE_SEIS_CIENTOS
  8692 18 CE 30 75         LDY #SEIS_L
  8696 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8699 09                  DEX
  869A 7E 86 10            JMP ESCRIBE_CIENTOS

                   ESCRIBE_SIETE_CIENTOS
  869D 18 CE 31 A6         LDY #SETECIENTOS_L
  86A1 BD 89 66            JSR CICLO_MUCHO_TEXTO
  86A4 7E 86 17            JMP ESCRIBE_CIENTOS_FIN

                   ESCRIBE_OCHO_CIENTOS
  86A7 18 CE 30 80         LDY #OCHO_L
  86AB BD 89 66            JSR CICLO_MUCHO_TEXTO
  86AE 09                  DEX
  86AF 7E 86 10            JMP ESCRIBE_CIENTOS

                   ESCRIBE_NUEVE_CIENTOS
  86B2 18 CE 31 B2         LDY #NOVECIENTOS_L
  86B6 BD 89 66            JSR CICLO_MUCHO_TEXTO
  86B9 7E 86 17            JMP ESCRIBE_CIENTOS_FIN

                   ENTRADA_DECENAS
  86BC 18 E6 00            LDAB $00,Y                              ** CARACTER
  86BF 18 3C               PSHY
  86C1 C1 30               CMPB #'0
  86C3 27 0B               BEQ FIN_ENTRADA_DECENAS
  86C5 C1 31               CMPB #'1
  86C7 27 0E               BEQ ESCRIBE_DIECI
  86C9 C1 32               CMPB #'2
  86CB 27 7A               BEQ ESCRIBE_VEINTI
  86CD 7E 87 DF            JMP COMPARA_TANTOS
                   FIN_ENTRADA_DECENAS
  86D0 18 38               PULY
  86D2 18 08               INY
  86D4 7E 88 E1            JMP ENTRADA_UNIDADES

                   ESCRIBE_DIECI
  86D7 18 38               PULY
  86D9 18 08               INY
  86DB 18 E6 00            LDAB $00,Y
  86DE 18 09               DEY
  86E0 18 3C               PSHY
  86E2 C1 30               CMPB #'0
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      22

  86E4 27 1A               BEQ ESCRIBE_DIEZ
  86E6 C1 31               CMPB #'1
  86E8 27 20               BEQ ESCRIBE_ONCE
  86EA C1 32               CMPB #'2
  86EC 27 26               BEQ ESCRIBE_DOCE
  86EE C1 33               CMPB #'3
  86F0 27 2C               BEQ ESCRIBE_TRECE
  86F2 C1 34               CMPB #'4
  86F4 27 32               BEQ ESCRIBE_CATORCE
  86F6 C1 35               CMPB #'5
  86F8 27 38               BEQ ESCRIBE_QUINCE
  86FA 7E 87 3C            JMP ESCRIBE_DIECI_L
  86FD 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_DIEZ
  8700 18 CE 30 91         LDY #DIEZ_L
  8704 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8707 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_ONCE
  870A 18 CE 30 96         LDY #ONCE_L
  870E BD 89 66            JSR CICLO_MUCHO_TEXTO
  8711 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_DOCE
  8714 18 CE 30 9B         LDY #DOCE_L
  8718 BD 89 66            JSR CICLO_MUCHO_TEXTO
  871B 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_TRECE
  871E 18 CE 30 A0         LDY #TRECE_L
  8722 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8725 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_CATORCE
  8728 18 CE 30 A6         LDY #CATORCE_L
  872C BD 89 66            JSR CICLO_MUCHO_TEXTO
  872F 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_QUINCE
  8732 18 CE 30 AE         LDY #QUINCE_L
  8736 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8739 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_DIECI_L
  873C 18 CE 30 8B         LDY #DIECI_L
  8740 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8743 09                  DEX
  8744 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   ESCRIBE_VEINTI
  8747 18 38               PULY            **ESTO SE VE MEDIO RARO
  8749 18 08               INY
  874B 18 E6 00            LDAB $00,Y                              ** CARACTER
  874E 18 3C               PSHY
  8750 C1 30               CMPB #'0
  8752 27 27               BEQ ESCRIBE_VEINTE
  8754 C1 31               CMPB #'1
  8756 27 2D               BEQ ESCRIBE_VEINTIUNO
  8758 C1 32               CMPB #'2
  875A 27 33               BEQ ESCRIBE_VEINTIDOS
  875C C1 33               CMPB #'3
  875E 27 39               BEQ ESCRIBE_VEINTITRES
  8760 C1 34               CMPB #'4
  8762 27 3F               BEQ ESCRIBE_VEINTICUATRO
  8764 C1 35               CMPB #'5
  8766 27 45               BEQ ESCRIBE_VEINTICINCO
  8768 C1 36               CMPB #'6
  876A 27 4B               BEQ ESCRIBE_VEINTISEIS
  876C C1 37               CMPB #'7
  876E 27 51               BEQ ESCRIBE_VEINTISIETE
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      23

  8770 C1 38               CMPB #'8
  8772 27 57               BEQ ESCRIBE_VEINTIOCHO
  8774 C1 39               CMPB #'9
  8776 27 5D               BEQ ESCRIBE_VEINTINUEVE
  8778 7E 89 63            JMP FIN_MUCHO_TEXTO             **SE IRIA AL FIN

                   *VEINTES

                   ESCRIBE_VEINTE
  877B 18 CE 30 DF         LDY #VEINTE_L
  877F BD 89 66            JSR CICLO_MUCHO_TEXTO
  8782 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTIUNO
  8785 18 CE 30 E6         LDY #VEINTIUNO_L
  8789 BD 89 66            JSR CICLO_MUCHO_TEXTO
  878C 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTIDOS
  878F 18 CE 30 F0         LDY #VEINTIDOS_L
  8793 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8796 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTITRES
  8799 18 CE 30 F9         LDY #VEINTITRES_L
  879D BD 89 66            JSR CICLO_MUCHO_TEXTO
  87A0 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTICUATRO
  87A3 18 CE 31 03         LDY #VEINTICUATRO_L
  87A7 BD 89 66            JSR CICLO_MUCHO_TEXTO
  87AA 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTICINCO
  87AD 18 CE 31 10         LDY #VEINTICINCO_L
  87B1 BD 89 66            JSR CICLO_MUCHO_TEXTO
  87B4 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTISEIS
  87B7 18 CE 31 1C         LDY #VEINTISEIS_L
  87BB BD 89 66            JSR CICLO_MUCHO_TEXTO
  87BE 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTISIETE
  87C1 18 CE 31 27         LDY #VEINTISIETE_L
  87C5 BD 89 66            JSR CICLO_MUCHO_TEXTO
  87C8 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTIOCHO
  87CB 18 CE 31 33         LDY #VEINTIOCHO_L
  87CF BD 89 66            JSR CICLO_MUCHO_TEXTO
  87D2 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTINUEVE
  87D5 18 CE 31 3E         LDY #VEINTINUEVE_L
  87D9 BD 89 66            JSR CICLO_MUCHO_TEXTO
  87DC 7E 89 63            JMP FIN_MUCHO_TEXTO


                   COMPARA_TANTOS
  87DF C1 33               CMPB #'3
  87E1 27 0F               BEQ ESCRIBE_TREINTA
  87E3 C1 34               CMPB #'4
  87E5 27 2B               BEQ ESCRIBE_CUARENTA
  87E7 C1 35               CMPB #'5
  87E9 27 47               BEQ ESCRIBE_CINCUENTA
  87EB C1 36               CMPB #'6
  87ED 27 63               BEQ ESCRIBE_SESENTA
  87EF 7E 88 72            JMP COMPARA_OTROS_TANTOS


                   ***TREINTAS

                   ESCRIBE_TREINTA
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      24

  87F2 18 CE 31 4C         LDY #TREINTA_L
  87F6 BD 89 66            JSR CICLO_MUCHO_TEXTO

  87F9 18 38               PULY
  87FB 18 08               INY
  87FD 18 E6 00            LDAB $00,Y
  8800 18 09               DEY
  8802 18 3C               PSHY
  8804 C1 30               CMPB #'0
  8806 27 07               BEQ FIN_ESCRIBE_TREINTA

  8808 18 CE 31 4A         LDY #Y_L
  880C BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_TREINTA
  880F 7E 86 D0            JMP FIN_ENTRADA_DECENAS


                   **CUARENTAS
                   ESCRIBE_CUARENTA
  8812 18 CE 31 54         LDY #CUARENTA_L
  8816 BD 89 66            JSR CICLO_MUCHO_TEXTO

  8819 18 38               PULY
  881B 18 08               INY
  881D 18 E6 00            LDAB $00,Y
  8820 18 09               DEY
  8822 18 3C               PSHY
  8824 C1 30               CMPB #'0
  8826 27 07               BEQ FIN_ESCRIBE_CUARENTA

  8828 18 CE 31 4A         LDY #Y_L
  882C BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_CUARENTA
  882F 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   **CINCUENTAS
                   ESCRIBE_CINCUENTA
  8832 18 CE 31 5D         LDY #CINCUENTA_L
  8836 BD 89 66            JSR CICLO_MUCHO_TEXTO

  8839 18 38               PULY
  883B 18 08               INY
  883D 18 E6 00            LDAB $00,Y
  8840 18 09               DEY
  8842 18 3C               PSHY
  8844 C1 30               CMPB #'0
  8846 27 07               BEQ FIN_ESCRIBE_CINCUENTA

  8848 18 CE 31 4A         LDY #Y_L
  884C BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_CINCUENTA
  884F 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   **SESENTAS
                   ESCRIBE_SESENTA
  8852 18 CE 31 67         LDY #SESENTA_L
  8856 BD 89 66            JSR CICLO_MUCHO_TEXTO

  8859 18 38               PULY
  885B 18 08               INY
  885D 18 E6 00            LDAB $00,Y
  8860 18 09               DEY
  8862 18 3C               PSHY
  8864 C1 30               CMPB #'0
  8866 27 07               BEQ FIN_ESCRIBE_SESENTA
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      25


  8868 18 CE 31 4A         LDY #Y_L
  886C BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_SESENTA
  886F 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   COMPARA_OTROS_TANTOS
  8872 C1 37               CMPB #'7
  8874 27 0B               BEQ ESCRIBE_SETENTA
  8876 C1 38               CMPB #'8
  8878 27 27               BEQ ESCRIBE_OCHENTA
  887A C1 39               CMPB #'9
  887C 27 43               BEQ ESCRIBE_NOVENTA
  887E 7E 86 D0            JMP FIN_ENTRADA_DECENAS


                   *SETENTAS
                   ESCRIBE_SETENTA
  8881 18 CE 31 6F         LDY #SETENTA_L
  8885 BD 89 66            JSR CICLO_MUCHO_TEXTO

  8888 18 38               PULY
  888A 18 08               INY
  888C 18 E6 00            LDAB $00,Y
  888F 18 09               DEY
  8891 18 3C               PSHY
  8893 C1 30               CMPB #'0
  8895 27 07               BEQ FIN_ESCRIBE_SETENTA

  8897 18 CE 31 4A         LDY #Y_L
  889B BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_SETENTA
  889E 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   *OCHENTAS
                   ESCRIBE_OCHENTA
  88A1 18 CE 31 77         LDY #OCHENTA_L
  88A5 BD 89 66            JSR CICLO_MUCHO_TEXTO


  88A8 18 38               PULY
  88AA 18 08               INY
  88AC 18 E6 00            LDAB $00,Y
  88AF 18 09               DEY
  88B1 18 3C               PSHY
  88B3 C1 30               CMPB #'0
  88B5 27 07               BEQ FIN_ESCRIBE_OCHENTA

  88B7 18 CE 31 4A         LDY #Y_L
  88BB BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_OCHENTA
  88BE 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   *NOVENTAS
                   ESCRIBE_NOVENTA
  88C1 18 CE 31 7F         LDY #NOVENTA_L
  88C5 BD 89 66            JSR CICLO_MUCHO_TEXTO

  88C8 18 38               PULY
  88CA 18 08               INY
  88CC 18 E6 00            LDAB $00,Y
  88CF 18 09               DEY
  88D1 18 3C               PSHY
  88D3 C1 30               CMPB #'0
  88D5 27 07               BEQ FIN_ESCRIBE_NOVENTA
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      26


  88D7 18 CE 31 4A         LDY #Y_L
  88DB BD 89 66            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_NOVENTA
  88DE 7E 86 D0            JMP FIN_ENTRADA_DECENAS

                   ENTRADA_UNIDADES
  88E1 18 E6 00            LDAB $00,Y                              ** CARACTER
  88E4 18 3C               PSHY
                   *       CMPB #'0
                   *       BEQ CICLO_MUCHO_TEXTO
  88E6 C1 32               CMPB #'2
  88E8 27 29               BEQ ESCRIBE_DOS
  88EA C1 33               CMPB #'3
  88EC 27 2F               BEQ ESCRIBE_TRES
  88EE C1 34               CMPB #'4
  88F0 27 35               BEQ ESCRIBE_CUATRO
  88F2 C1 35               CMPB #'5
  88F4 27 3B               BEQ ESCRIBE_CINCO
  88F6 C1 36               CMPB #'6
  88F8 27 41               BEQ ESCRIBE_SEIS
  88FA C1 37               CMPB #'7
  88FC 27 47               BEQ ESCRIBE_SIETE
  88FE C1 38               CMPB #'8
  8900 27 4D               BEQ ESCRIBE_OCHO
  8902 C1 39               CMPB #'9
  8904 27 53               BEQ ESCRIBE_NUEVE

  8906 7E 89 63            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_UNO
  8909 18 CE 30 5A         LDY #UNO_L
  890D BD 89 66            JSR CICLO_MUCHO_TEXTO
  8910 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_DOS
  8913 18 CE 30 5F         LDY #DOS_L
  8917 BD 89 66            JSR CICLO_MUCHO_TEXTO
  891A 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_TRES
  891D 18 CE 30 63         LDY #TRES_L
  8921 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8924 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_CUATRO
  8927 18 CE 30 68         LDY #CUATRO_L
  892B BD 89 66            JSR CICLO_MUCHO_TEXTO
  892E 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_CINCO
  8931 18 CE 30 6F         LDY #CINCO_L
  8935 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8938 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_SEIS
  893B 18 CE 30 75         LDY #SEIS_L
  893F BD 89 66            JSR CICLO_MUCHO_TEXTO
  8942 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_SIETE
  8945 18 CE 30 7A         LDY #SIETE_L
  8949 BD 89 66            JSR CICLO_MUCHO_TEXTO
  894C 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_OCHO
  ADDR B1 B2 B3 B4 C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      27

  894F 18 CE 30 80         LDY #OCHO_L
  8953 BD 89 66            JSR CICLO_MUCHO_TEXTO
  8956 7E 89 63            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_NUEVE
  8959 18 CE 30 85         LDY #NUEVE_L
  895D BD 89 66            JSR CICLO_MUCHO_TEXTO
  8960 7E 89 63            JMP FIN_MUCHO_TEXTO

                   *************************************************

                   FIN_MUCHO_TEXTO
  8963 7E 80 0C                    JMP CICLATE1

                   YA_MATE_ME_POR_FA_T_T

                   CICLO_MUCHO_TEXTO
  8966 18 E6 00            LDAB $00,Y              * TOMA CARACTER DEL FCC
  8969 E7 00                       STAB $00,X      * ESCRIBE EL CHAR EN LA DIR
.                  DE X
  896B 08                          INX
  896C 18 08                       INY                     * INCREMENTAMOS X Y Y
  896E C1 20                       CMPB #$20        * ASCII DE ESPACIO
  8970 26 F4                       BNE CICLO_MUCHO_TEXTO   * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  8972 18 09                       DEY
  8974 39                          RTS




                   ***********************************
                   * ATENCION A INTERRUPCION SERIAL
                   ***********************************
                           ORG     $F100
  F100 B6 10 2E            LDAA    SCSR
  F103 B6 10 2F            LDAA    SCDR
  F106 97 00               STAA    ORDEN
  F108 3B                  RTI

                   ***********************************
                   * VECTOR INTERRUPCION SERIAL
                   ***********************************
                           ORG     $FFD6
  FFD6 F1 00               FCB     $F1,$00


                   ***********************************
                   *RESET
                   ***********************************
                           ORG     $FFFE
  FFFE 80 00       RESET   FCB     $80,$00
                   ***********************************

                           END     $8000

  Symbol Table 

  CASOOK             841A
  ENTRADA_INTERMEDIA_UNIDADES 8539
  CUARENTA           31E8
  DOCE_L             309B
  CIENTOS_L          3193
  MENSAJE_E_ROMANO   3000
  CUATROCIENTOS      31CB
  Symbol Table     C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      28

  TRES               3201
  NUM_3_CENTENA      8140
  Y_L                314A
  NUM_2_DECENA       81C2
  ESCRIBE_CUATRO     8927
  SESENTA_L          3167
  FIN_DECENA         81B7
  SERIAL             8466
  ESCRIBE_DOS_MIL    85A0
  VEINTICINCO_L      3110
  CASO_CENTENA       808C
  NUEVE              3216
  OCHOCIENTOS        31D7
  ESCRIBE_ONCE       870A
  ESCRIBE_DIECI_L    873C
  SETECIENTOS        31D3
  NUM_4_DECENA       81D4
  FIN_ESCRIBE_NOVENTA 88DE
  FIN_ESCRIBE_SETENTA 889E
  ESCRIBE_VEINTE     877B
  ERROR              80F2
  ESCRIBE_MUCHO_TEXTO 854C
  ESCRIBE_VEINTI     8747
  MUCHO_TEXTO        8542
  DIECI_L            308B
  FIN_ESCRIBE_OCHENTA 88BE
  FIN_ENTRADA_DECENAS 86D0
  NUM_4_CENTENA      8149
  QUINIENTOS         31CE
  CUATRO_L           3068
  MENSAJE_E_ARABIGO  301E
  DIECISIETE_L       30BF
  NUM_6_DECENA       81E6
  SIETE              320D
  A                  0001
  C                  0018
  D                  0017
  NUEVE_L            3085
  I                  0022
  NUM_2_UNIDAD       823E
  ONCE_L             3096
  L                  0019
  CONTADOR_EXT       0010
  M                  0016
  O                  0023
  DIR_RESULTADO      0050
  FIN_UNIDAD         8233
  ESCRIBE_CUARENTA   8812
  NUM_8_DECENA       81F8
  XB                 0020
  ESCRIBE_QUINCE     8732
  V                  0021
  VEINTISEIS_L       311C
  ENTRADA_ROMANO     8290
  ESCRIBE_TRES       891D
  ESCRIBE_VEINTIUNO  8785
  ESCRIBECHAR        842F
  CSCTL              105D
  NOVENTA_L          317F
  ENTRADA_MILES      855F
  NUM_4_UNIDAD       8250
  NUM_5_CENTENA      8152
  DIEZ_L             3091
  ESCRIBE_NUEVE_MIL  85E6
  ESCRIBE_SEIS_CIENTOS 8692
  Symbol Table     C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      29

  CASOC1             8334
  CASOO_ARABIGO      803F
  FIN_ESCRIBE_SESENTA 886F
  VEINTINUEVE_L      313E
  ESCRIBE_OCHO_CIENTOS 86A7
  NUM_6_UNIDAD       8262
  DIR_TEXTUAL        0070
  D_ERROR            84A1
  SCCR1              102C
  CICLATE1           800C
  SCCR2              102D
  CASOD1             82F4
  ESCRIBE_DOS        8913
  CASO_MILLAR        8079
  TRECE_L            30A0
  ESCRIBE_CIENTO     864A
  CUENTA             828A
  I_ERROR            84CB
  CATORCE_L          30A6
  NUM_8_UNIDAD       8274
  SEISCIENTOS        31D0
  BERROR             0002
  BAUD               102B
  CASOV1             83DD
  CIEN               31C2
  ESCRIBE_VEINTINUEVE 87D5
  NUM_6_CENTENA      815B
  ENTRADA_CENTENAS   85F0
  CINCO              3208
  CICLO              8010
  DOSCIENTOS         31C4
  ENTRADA_UNIDADES   88E1
  DIECIOCHO_L        30CA
  ESCRIBE_CIENTOS_FIN 8617
  CICLO1             8455
  NOVECIENTOS        31DC
  FIN_CENTENA        812C
  ESCRIBE_SEIS_MIL   85C8
  SETECIENTOS_L      31A6
  X_ERROR            84BB
  CINCUENTA          31EB
  ESCRIBE_VEINTISIETE 87C1
  UNO_L              305A
  ESCRIBE_CUATRO_MIL 85B4
  TRES_L             3063
  DECENA             0052
  LIMPIEZA_SALTO     8423
  SALTOINTERMEDIO1   8306
  ERROR_ESCRITURA    8482
  SALTOINTERMEDIO2   83EF
  ESCRIBE_NUEVE      8959
  DOS                31FE
  VEINTE_L           30DF
  ERROR_CANTIDAD     809D
  CASOOK_ARABIGO     8047
  NUM_7_CENTENA      8164
  ESCRIBE_VEINTIOCHO 87CB
  ENTRADA            8016
  DOS_L              305F
  CASOX1             83B2
  OPT2               1038
  ESCRIBE_TRECE      871E
  ESCRIBE_TRES_MIL   85AA
  MENSAJE_E_RANGO    303D
  CICLATE            8286
  Symbol Table     C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      30

  C_ERROR            84AB
  ESCRIBE_SIETE      8945
  ESCRIBE_OCHO_MIL   85DC
  NUM_1_DECENA       81B9
  NUMCARAC           0010
  ESCRIBE_VEINTISEIS 87B7
  ESCRIBE_CIEN       861E
  ESCRIBE_TREINTA    87F2
  NUM_8_CENTENA      816D
  UNIDAD             0053
  ORIGEN_ROMANO      852F
  ERROR_1            8346
  ERROR_2            83AC
  NUM_3_DECENA       81CB
  DIECINUEVE_L       30D4
  RESET              FFFE
  OTRAS_CENTENAS     867F
  TREINTA            31E4
  CONTADOR           0028
  TRESCIENTOS        31C7
  INICIALIZAR        80AA
  COMPARA_TANTOS     87DF
  CICLO_MUCHO_TEXTO  8966
  ESCRIBE_VEINTICINCO 87AD
  ESCRIBE_CENTENA    8103
  DIECISEIS_L        30B5
  CINCUENTA_L        315D
  NUM_5_DECENA       81DD
  ERROR_CICLO        848E
  ERROR_CICLO1       80F6
  FIN_ESCRIBE_CUARENTA 882F
  LIM                8509
  ORDEN              0000
  LIMAS              80D4
  TREINTA_L          314C
  BANDERA_ERROR      0011
  ESCRIBE_DOCE       8714
  NUM_9_CENTENA      8176
  OCHO_L             3080
  CENTENA            0051
  HPRIO              103C
  NUM_1_UNIDAD       8235
  ESCRIBE_CIENTOS    8610
  LIMONES            80C3
  ESCRIBE_CATORCE    8728
  ESCRIBE_UNO        8909
  NUM_7_DECENA       81EF
  ESCRIBE_DIECI      86D7
  SALTOINTERMEDIO1_ERROR 842C
  ESCRIBE_DECENA     818E
  CIEN_L             3187
  VEINTIUNO_L        30E6
  OCHO               3211
  ESCRIBE_MIL_FIN    858F
  CASO_DECENA        8090
  SCSR               102E
  NUM_3_UNIDAD       8247
  ESCRIBE_CINCO      8931
  DIEZ               31DF
  DIR_INPUT          0030
  BANDERA_TIPO_TRADUCCION 0024
  FIN                8451
  VEINTICUATRO_L     3103
  VEINTIDOS_L        30F0
  NUM_9_DECENA       8201
  Symbol Table     C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      31

  VEINTITRES_L       30F9
  OCHENTA_L          3177
  ESCRIBE_NOVENTA    88C1
  ESCRIBE_SETENTA    8881
  L_ERROR            84B1
  SIETE_L            307A
  CASO_ESCRIBE_MILLAR 807F
  TRADUCCION_A_ROMANO 8053
  ESCRIBE_CINCO_MIL  85BE
  BANDERA_TRADUCCION 0012
  NUM_5_UNIDAD       8259
  ESCRIBE_OCHENTA    88A1
  ENTRADA_DECENAS    86BC
  CASOL1             8368
  VALIDACION_ARABIGO 80E2
  SEIS               320A
  NOVENTA            31F9
  ESCRIBE_NUEVE_CIENTOS 86B2
  SETENTA            31F0
  ESCRIBE_VEINTITRES 8799
  CUATRO             3205
  NOVECIENTOS_L      31B2
  V_ERROR            84C1
  UNO                31FC
  OCHENTA            31F4
  LIM2               851A
  DDRD               1009
  NUM_7_UNIDAD       826B
  ERROR1             82A1
  ESCRIBE_UNIDAD     820A
  CASOM1             82C6
  ESCRIBE_CUATRO_CIENTOS 866A
  ESCRIBE_MIL        8596
  QUINIENTOS_L       319B
  NUM_1_CENTENA      812E
  CASO_UNIDAD        8094
  SCDR               102F
  ESCRIBE_SIETE_CIENTOS 869D
  VEINTE             31E1
  VEINTISIETE_L      3127
  FIN_ESCRIBE_CINCUENTA 884F
  ESCRIBE_VEINTIDOS  878F
  NUM_9_UNIDAD       827D
  SETENTA_L          316F
  ESCRIBE_VEINTICUATRO 87A3
  ESCRIBE_DOS_CIENTOS 8654
  CASOC              8311
  CASOD              82D8
  ORIGEN_ARABIGO     8528
  ESCRIBE_SESENTA    8852
  CASOI              83FE
  ESCRIBE_OCHO       894F
  MIL_L              31BE
  QUINCE_L           30AE
  CASOL              834C
  CASOM              82A7
  CICLO_ESCRITURA    817F
  ESCRIBE_DIEZ       8700
  CASOO              8412
  SEIS_L             3075
  FIN_MUCHO_TEXTO    8963
  CUARENTA_L         3154
  FIN_ESCRIBE_TREINTA 880F
  CASOV              83C4
  SESENTA            31ED
  Symbol Table     C:\Users\spiqu\Documents\Escuela\Estructura_     PAGE      32

  ESCRIBE_CINCO_CIENTOS 8675
  FIN_ERROR          84D1
  CASOX              8389
  NUM_2_CENTENA      8137
  CIENTO_L           318C
  SPCR               1028
  ESCRIBE_CINCUENTA  8832
  ERROR_ARABIGO      80ED
  ENTRADA_INTERMEDIO_ROMANO 8038
  ERROR_SALTO        849B
  MIL                0050
  INICIO             8000
  VEINTIOCHO_L       3133
  ESCRIBE_SEIS       893B
  CINCO_L            306F
  COMPARA_OTROS_TANTOS 8872
  LIMPIEZA           84D2
  SALTOINTERMEDIO    837A
  YA_MATE_ME_POR_FA_T_T 8966
  ENTRADA_INTERMEDIA_DECENAS 853C
  BERROR2            0003
  ESCRIBE_SIETE_MIL  85D2
  ESCRIBE_TRES_CIENTOS 865F
  ENTRADA_INTERMEDIA_CENTENAS 853F
  FIN_VALIDACION_ARABIGO 80EC
