  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       1

                   * PROYECTO 2

                   *DECLARACION CONSTANTES

                   SCDR   EQU   $102F
                   SCCR2  EQU   $102D
                   SCSR   EQU   $102E
                   SCCR1  EQU   $102C
                   BAUD   EQU   $102B
                   HPRIO  EQU   $103C
                   SPCR   EQU   $1028
                   CSCTL  EQU   $105D
                   OPT2   EQU   $1038
                   DDRD   EQU   $1009

                   *DECLARACION DE VARIABLES
                   ORDEN EQU $0000
                   M   EQU $0016  *BANDERA DE LETRAS M
                   D   EQU $0017  *BANDERA DE LETRA D
                   C   EQU $0018  *BANDERA DE LETRA C
                   L   EQU $0019  *BANDERA DE LETRA L
                   XB   EQU $0020  *BANDERA DE LETRA X
                   V   EQU $0021  *BANDERA DE LETRA U
                   I   EQU $0022  *BANDERA DE LETRA I
                   O   EQU $0023  *BANDERA DEL OK
                   A       EQU $0001  *BANDERA FIN DE CADENA
                   BERROR EQU $0002   * BANDERA DE ERROR
                   UNIDAD EQU $0053   * DIRECCION PARA ESCRIBIR UNIDADES
                   DECENA EQU $0052   * DIRECCION PARA ESCRIBIR DECENAS
                   CENTENA EQU $0051  * DIRECCION PARA ESCRIBIR CENTENA
                   MIL EQU $0050      * DIRECCION PARA ESCRIBIR UNIDADES DE
.                  MILLAR

                       ** ESPACIO PARA LAS CADENAS A MOSTRAR
                                   ORG $3000
  3000 45 52 52 4F                 FCC "ERROR, NUMERO ROMANO INVALIDO."   *29
. 3004 52 2C 20 4E CARACTERES
. 3008 55 35 45 52
. 300C 4F 20 52 4F
. 3010 4D 41 4E 20
. 3014 20 49 4E 56
. 3018 41 4C 49 44
. 301C 4F 2E
  301E 45 52 52 4F                 FCC "ERROR, NUMERO ARABIGO INVALIDO."  *30
. 3022 52 2C 20 4E
. 3026 55 4D 45 52
. 302A 4F 20 41 52
. 302E 41 42 49 47
. 3032 4F 20 49 4E
. 3036 56 41 4C 49
. 303A 44 00 2E
  303D 45 52 52 4F                 FCC "ERROR, NUMERO FUERA DE RANGO."    *28
. 3041 52 2C 20 4E
. 3045 55 4D 45 52
. 3049 4F 20 46 55
. 304D 45 52 41 20
. 3051 44 45 20 52
. 3055 41 4E 47 4F
. 3059 2E

  305A 75 6E 6F 20                 FCC "uno  "
. 305E 20
  305F 64 6F 73 20                 FCC "dos "
  3063 74 72 65 73                 FCC     "tres "
. 3067 20
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       2

  3068 63 75 61 74                 FCC     "cuatro "
. 306C 72 6F 20
  306F 63 69 6E 63                 FCC     "cinco "
. 3073 6F 20
  3075 73 65 69 73                 FCC     "seis "
. 3079 20
  307A 73 69 65 74                 FCC     "siete "
. 307E 65 20
  3080 6F 63 68 6F                 FCC     "ocho "
. 3084 20
  3085 6E 75 65 76                 FCC     "nueve "
. 3089 65 20
  308B 64 69 65 63                 FCC "dieci "
. 308F 69 20
  3091 64 69 65 7A                 FCC     "diez "
. 3095 20
  3096 6F 6E 63 65                 FCC "once "
. 309A 20
  309B 64 6F 63 65                 FCC "doce "
. 309F 20
  30A0 74 72 65 63                 FCC "trece "
. 30A4 65 20
  30A6 63 61 74 6F                 FCC "catorce "
. 30AA 72 63 65 20
  30AE 71 75 69 6E                 FCC "quince "
. 30B2 63 65 20
  30B5 64 69 65 63                 FCC "diecisEis "
. 30B9 69 73 45 69
. 30BD 73 20
  30BF 76 65 69 6E                 FCC "veinte "
. 30C3 74 65 20
  30C6 76 65 69 6E                 FCC "veinti "
. 30CA 74 69 20
  30CD 76 65 6E 74                 FCC "ventisEis "
. 30D1 69 73 45 69
. 30D5 73 20
  30D7 79 20                       FCC "y "
  30D9 74 72 65 69                 FCC "treinta "
. 30DD 6E 74 61 20
  30E1 63 75 61 72                 FCC "cuarenta "
. 30E5 65 6E 74 61
. 30E9 20
  30EA 63 69 6E 63                 FCC "cincuenta "
. 30EE 75 65 6E 74
. 30F2 61 20
  30F4 73 65 73 65                 FCC "sesenta "
. 30F8 6E 74 61 20
  30FC 73 65 74 65                 FCC "setenta "
. 3100 6E 74 61 20
  3104 6F 63 68 65                 FCC "ochenta "
. 3108 6E 74 61 20
  310C 6E 6F 76 65                 FCC "noventa "
. 3110 6E 74 61 20
  3114 63 69 65 6E                 FCC "cien "
. 3118 20
  3119 63 69 65 6E                 FCC "ciento "
. 311D 74 6F 20
  3120 63 69 65 6E                 FCC "cientos "
. 3124 74 6F 73 20
  3128 71 75 69 6E                 FCC "quinientos "
. 312C 69 65 6E 74
. 3130 6F 73 20
  3133 73 65 74 65                 FCC "setecientos "
. 3137 63 69 65 6E
. 313B 74 6F 73 20
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       3

  313F 6E 6F 76 65                 FCC "novecientos "
. 3143 63 69 65 6E
. 3147 74 6F 73 20
  314B 6D 69 6C 20                 FCC "mil "

                                   ORG $8000
                   INICIO
  8000 8E 00 FF                    LDS #$00FF              * Configuracion del
.                  puerto serial
  8003 BD 81 DD                    JSR SERIAL              * SUBRUTINA PARA
.                  CONFIG EL PUERTO SERIAL
  8006 BD 82 49                    JSR LIMPIEZA

                   CICLATE
  8009 86 3F                       LDAA    #'?
  800B 97 00                       STAA    ORDEN
                   CICLO
  800D 96 00                       LDAA    ORDEN
  800F 81 3F                       CMPA    #'?
  8011 27 FA                       BEQ     CICLO

  8013 81 4D               CMPA #'M
  8015 27 0D               BEQ CASOM
  8017 81 44               CMPA #'D
  8019 27 3A               BEQ CASOD
  801B 7E 80 83            JMP SALTOINTERMEDIO1


                   ERROR1
  801E BD 81 F9                    JSR ERROR_ESCRITURA
  8021 7E 81 C8                    JMP FIN

                   CASOM
  8024 D6 18                       LDAB C                  *Verifica que le haya
.                  llegado una C ANTES para el caso de CM
  8026 C1 00               CMPB #0
  8028 26 19               BNE CASOM1
  802A D6 16                       LDAB M
  802C C1 08                       CMPB #8         *Verifica que no sean ms de 9
.                  M's
  802E 22 EE                       BHI ERROR1

  8030 BD 82 18                    JSR D_ERROR

  8033 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8035 08                          INX
  8036 D6 16               LDAB M
  8038 5C                  INCB
  8039 D7 16               STAB M
  803B D6 50               LDAB MIL
  803D 5C                  INCB
  803E D7 50               STAB MIL
  8040 7E 80 09            JMP CICLATE

                   *CASO DONDE LLEGUE CM
                   CASOM1
  8043 C1 01                       CMPB #1         *Compara si hay una segunda C
  8045 22 D7                       BHI ERROR1
  8047 CB 05                       ADDB #5
  8049 D7 18                       STAB C          *Carga en C el valor de 5
  804B C6 09                       LDAB #9
  804D D7 51               STAB CENTENA    *Carga en las centenas el valor de 9
  804F A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       4

  8051 08                          INX             *Aumenta la X en 1
  8052 7E 80 09            JMP CICLATE     *Regresa a esperar

                   CASOD

  8055 BD 82 18                    JSR D_ERROR
  8058 D6 17                       LDAB D
  805A 5C                  INCB
  805B D7 17               STAB D
  805D C1 02                       CMPB #2
  805F 27 BD                       BEQ ERROR1
.                  *VALIDA QUE NO LLEGUEN 2 O MS D's
  8061 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8063 08                          INX
  8064 D6 18               LDAB C
  8066 C1 00               CMPB #0
  8068 26 07               BNE CASOD1
  806A C6 05               LDAB #5
  806C D7 51               STAB CENTENA
  806E 7E 80 09            JMP CICLATE
                   CASOD1
                   ***** CASO CD
  8071 C1 01                       CMPB #1
  8073 22 4E                       BHI ERROR_1     *Compara si hay ms de una C
  8075 CB 05                       ADDB #5
  8077 D7 18                       STAB C          *Carga en C el valor de 5,
.                  porque? ####
  8079 C6 04                       LDAB #4
  807B D7 51               STAB CENTENA    *Carga en las centenas el valor de 4
  807D A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  807F 08                          INX             *Aumenta la X en 1
  8080 7E 80 09            JMP CICLATE     *Regresa a esperar


                   SALTOINTERMEDIO1
  8083 81 43                       CMPA #'C
  8085 27 07               BEQ CASOC
  8087 81 4C                       CMPA #'L
  8089 27 3E               BEQ CASOL
  808B 7E 80 F7                    JMP SALTOINTERMEDIO

                   *C ES UNA BANDERA A FUTURO PARA ERRORES
                   CASOC
  808E D6 20                       LDAB XB
.                  *VERIFICA QUE LLEGUE UN XC
  8090 C1 00                       CMPB #0
  8092 26 1D                       BNE CASOC1
  8094 D6 18                       LDAB C
  8096 C1 04                       CMPB #4
  8098 22 29                       BHI ERROR_1

  809A BD 82 28                    JSR L_ERROR

  809D D6 18                       LDAB C
  809F 5C                  INCB
  80A0 D7 18               STAB C
  80A2 C1 04                       CMPB #4
  80A4 27 1D                       BEQ ERROR_1             *VALIDA QUE NO
.                  LLEGUEN 4 O MS C's
  80A6 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       5

  80A8 08                          INX
  80A9 D6 51                       LDAB CENTENA
  80AB 5C                  INCB
  80AC D7 51               STAB CENTENA
  80AE 7E 80 09            JMP CICLATE

                   *CASO POR SI LLEGA UN XC
                   CASOC1
  80B1 C1 01                       CMPB #1
  80B3 22 0E                       BHI ERROR_1  * SI ES HAY MS DE UNA C ES ERROR
  80B5 CB 05                       ADDB #5          *PARA FUTURO ERROR XCX
  80B7 D7 20                       STAB XB
  80B9 C6 09                       LDAB #9
  80BB D7 52                       STAB DECENA
  80BD A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  80BF 08                          INX
  80C0 7E 80 09                    JMP CICLATE

                   ERROR_1
  80C3 BD 81 F9                    JSR ERROR_ESCRITURA
  80C6 7E 81 C8                    JMP FIN

                   CASOL
  80C9 BD 82 38                    JSR V_ERROR
  80CC D6 19                       LDAB L
  80CE 5C                  INCB
  80CF D7 19               STAB L
  80D1 C1 02                       CMPB #2
  80D3 27 EE                       BEQ ERROR_1             *VALIDA QUE NO
.                  LLEGUEN 2 O MS L's
  80D5 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  80D7 08                          INX
  80D8 D6 20                       LDAB XB
  80DA C1 00                       CMPB #0
  80DC 26 07                       BNE CASOL1
  80DE C6 05                       LDAB #5
  80E0 D7 52               STAB DECENA

  80E2 7E 80 09            JMP CICLATE

                   *PARA CUANDO LLEGA XL
                   CASOL1
  80E5 C1 01                       CMPB #1
  80E7 22 DA                       BHI ERROR_1     *Compara si hay ms de una X
  80E9 CB 05                       ADDB #5
  80EB D7 20                       STAB XB          *Suma en X el valor de 5,
.                  porque? ####
  80ED C6 04                       LDAB #4
  80EF D7 52               STAB DECENA     *Carga en las centenas el valor de 4
  80F1 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  80F3 08                          INX             *Siguiente Direccion de
.                  escritura
  80F4 7E 80 09            JMP CICLATE     *Regresa a esperar

                                             **********SALTO INTERMEDIO
                   SALTOINTERMEDIO
  80F7 81 58                       CMPA #'X
  80F9 27 0B               BEQ CASOX
  80FB 81 56               CMPA #'V
  80FD 27 42               BEQ CASOV
  80FF 81 49               CMPA #'I
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       6

  8101 27 78               BEQ CASOI

  8103 7E 81 6C                    JMP SALTOINTERMEDIO2

                   CASOX
  8106 BD 82 38                    JSR V_ERROR
  8109 D6 22                       LDAB I
  810B C1 00                       CMPB #0                 *VALIDA EL CASO IX
  810D 26 20                       BNE CASOX1
  810F D6 20                       LDAB XB
  8111 5C                  INCB
  8112 D7 20               STAB XB
  8114 C1 03                       CMPB #3
  8116 22 AB                       BHI ERROR_1
  8118 D6 21                       LDAB V
  811A C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA X
  811C 26 A5                       BNE ERROR_1


  811E A7 00                       STAA $00,X                      *Escribir a
.                  partir de la memoria $70 lo que le mande el usuario
  8120 08                          INX
  8121 D6 52                       LDAB DECENA
  8123 5C                          INCB
  8124 D7 52                       STAB DECENA
  8126 7E 80 09            JMP CICLATE

                   ERROR_2
  8129 BD 81 F9                    JSR ERROR_ESCRITURA
  812C 7E 81 C8                    JMP FIN
                   *CUANDO LLEGUE UN IX
                   CASOX1
  812F C1 01                       CMPB #1
  8131 22 90                       BHI ERROR_1
  8133 CB 06                       ADDB #6
  8135 D7 22                       STAB I
  8137 C6 09                       LDAB #9
  8139 D7 53                       STAB UNIDAD
  813B A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  813D 08                          INX
  813E 7E 80 09                    JMP CICLATE

                   CASOV
  8141 D6 22                       LDAB I
  8143 C1 00                       CMPB #0
  8145 26 13                       BNE CASOV1
  8147 D6 21                       LDAB V
  8149 5C                          INCB
  814A D7 21                       STAB V
  814C C1 02                       CMPB #2
  814E 27 D9                       BEQ ERROR_2             *VALIDA QUE NO
.                  LLEGUEN 2 O MS V's       _2
  8150 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8152 08                          INX
  8153 C6 05                       LDAB #5
  8155 D7 53                       STAB UNIDAD
  8157 7E 80 09                    JMP CICLATE

                   *CUANDO LLEGUE UN IV
                   CASOV1
  815A C1 01                       CMPB #1
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       7

  815C 22 CB                       BHI ERROR_2
  815E CB 06                       ADDB #6
  8160 D7 22                       STAB I
  8162 C6 04                       LDAB #4
  8164 D7 53                       STAB UNIDAD
  8166 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8168 08                          INX
  8169 7E 80 09                    JMP CICLATE

                   SALTOINTERMEDIO2
  816C 81 4F               CMPA #'O  *CASO EN QUE RECIBA OK
  816E 27 1F               BEQ CASOO
  8170 81 4B               CMPA #'K
  8172 27 23               BEQ CASOOK
  8174 81 3D                       CMPA #61            *Valida que le llegue un
.                  = para saber que es fin de la cadena que mete el usuario
  8176 27 31                       BEQ ESCRIBECHAR
  8178 7E 81 A6                    JMP SALTOINTERMEDIO1_ERROR

                   CASOI

  817B D6 22                       LDAB I
  817D 5C                          INCB
  817E D7 22                       STAB I
  8180 C1 03                       CMPB #3
  8182 22 A5                       BHI ERROR_2
  8184 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8186 08                          INX
  8187 D6 53                       LDAB UNIDAD
  8189 5C                          INCB
  818A D7 53                       STAB UNIDAD
  818C 7E 80 09                    JMP CICLATE

                   CASOO
  818F D6 23                       LDAB O
  8191 5C                          INCB
  8192 D7 23                       STAB O
  8194 7E 81 C8                    JMP FIN

                   CASOOK
  8197 D6 23                       LDAB O
  8199 C1 00                       CMPB #0
  819B 26 03                       BNE LIMPIEZA_SALTO
  819D 7E 80 09                    JMP CICLATE
                   LIMPIEZA_SALTO
  81A0 BD 82 49                    JSR LIMPIEZA
  81A3 7E 80 09                    JMP CICLATE

                   SALTOINTERMEDIO1_ERROR
  81A6 7E 80 1E                    JMP ERROR1

                   ESCRIBECHAR
  81A9 D6 02                       LDAB BERROR
  81AB C1 01                       CMPB #1
  81AD 27 F7                       BEQ SALTOINTERMEDIO1_ERROR
  81AF C6 30                       LDAB #48  * Es el ascii de 0 en decimal
  81B1 96 50                       LDAA MIL
  81B3 1B                          ABA
  81B4 97 50                       STAA MIL
  81B6 96 51                       LDAA CENTENA
  81B8 1B                          ABA
  81B9 97 51                       STAA CENTENA
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       8

  81BB 96 52                       LDAA DECENA
  81BD 1B                          ABA
  81BE 97 52                       STAA DECENA
  81C0 96 53                       LDAA UNIDAD
  81C2 1B                          ABA
  81C3 97 53                       STAA UNIDAD
  81C5 7E 81 C8                    JMP FIN



                   FIN
  81C8 86 3F                       LDAA    #'?
  81CA 97 00                       STAA    ORDEN
                   CICLO1
  81CC 96 00                       LDAA    ORDEN
  81CE 81 3F                       CMPA    #'?

  81D0 27 FA                       BEQ     CICLO1
  81D2 81 4F                       CMPA #'O
  81D4 27 B9                       BEQ CASOO
  81D6 81 4B                       CMPA #'K
  81D8 27 BD                       BEQ CASOOK
  81DA 7E 81 C8                    JMP FIN

                   *Configuracion del puerto serial
                   SERIAL
  81DD CC 30 2C            LDD   #$302C  * CONFIGURA PUERTO SERIAL
  81E0 B7 10 2B            STAA  BAUD    * BAUD  9600  para cristal de 8MHz
  81E3 F7 10 2D            STAB  SCCR2   * HABILITA  RX Y TX PERO INTERRUPCN
.                  SOLO RX
  81E6 86 00               LDAA  #$00
  81E8 B7 10 2C            STAA  SCCR1   * 8 BITS

  81EB 86 FE                   LDAA  #$FE    * CONFIG PUERTO D COMO SALIDAS
.                  (EXCEPTO PD0)
  81ED B7 10 09            STAA  DDRD    * SEA  ENABLE DEL DISPLAY  PD4  Y RS
.                  PD3


  81F0 86 04               LDAA  #$04
  81F2 B7 10 3C            STAA  HPRIO

  81F5 86 00                       LDAA  #$00
  81F7 06                  TAP
  81F8 39                  RTS

                   ERROR_ESCRITURA
  81F9 D6 02                       LDAB BERROR
  81FB 5C                          INCB
  81FC D7 02                       STAB BERROR
  81FE CE 00 50                    LDX #$0050     * DIRECCION DEL MENSAJE
  8201 18 CE 30 00                 LDY #$3000     * ORG DE LOS FCC
                   ERROR_CICLO
  8205 18 E6 00                    LDAB $00,Y
  8208 E7 00                       STAB $00,X
  820A 08                          INX
  820B 18 08                       INY
  820D C1 2E                       CMPB #46        * ASCII DE PUNTO
  820F 26 F4                       BNE ERROR_CICLO
  8211 39                          RTS


                   ERROR_SALTO
  8212 BD 81 F9                    JSR ERROR_ESCRITURA
  8215 7E 82 48                    JMP FIN_ERROR
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       9


                   D_ERROR
  8218 D6 17                       LDAB D
  821A C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  821C 26 F4                       BNE ERROR_SALTO

  821E 81 4D                       CMPA #'M
  8220 27 06                       BEQ L_ERROR             * VALIDAR QUE M SI
.                  PUEDE TENER UNA C ANTES
                   C_ERROR
  8222 D6 18                       LDAB C
  8224 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  8226 26 EA                       BNE ERROR_SALTO
                   L_ERROR
  8228 D6 19                       LDAB L
  822A C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  L's ANTES DE LA M
  822C 26 E4                       BNE ERROR_SALTO
  822E 81 43                       CMPA #'C
  8230 27 06                       BEQ V_ERROR             * VALIDAR QUE C SI
.                  PUEDE TENER UNA X ANTES
                   X_ERROR
  8232 D6 20                       LDAB XB
  8234 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  X's ANTES DE LA M
  8236 26 DA                       BNE ERROR_SALTO
                   V_ERROR
  8238 D6 21                       LDAB V
  823A C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA M
  823C 26 D4                       BNE ERROR_SALTO
  823E 81 58                       CMPA #'X
  8240 27 06                       BEQ FIN_ERROR           * VALIDAR QUE X SI
.                  PUEDE TENER UNA I ANTES
                   I_ERROR
  8242 D6 22                       LDAB I
  8244 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  I's ANTES DE LA M
  8246 26 CA                       BNE ERROR_SALTO
                   FIN_ERROR
  8248 39                          RTS

                   LIMPIEZA
  8249 7F 00 16            CLR M
  824C 7F 00 17            CLR D
  824F 7F 00 18            CLR C
  8252 7F 00 19            CLR L
  8255 7F 00 20            CLR XB
  8258 7F 00 21            CLR V
  825B 7F 00 22            CLR I
  825E 7F 00 01            CLR A
  8261 7F 00 02            CLR BERROR
  8264 7F 00 53            CLR UNIDAD
  8267 7F 00 52            CLR DECENA
  826A 7F 00 51            CLR CENTENA
  826D 7F 00 50            CLR MIL
  8270 CE 00 70            LDX #$0070
  8273 18 CE 00 70         LDY #$0070
                   LIM
  8277 86 00               LDAA #00
  8279 18 A7 00            STAA $00,Y
  827C 18 08               INY
  827E 18 8C 00 8F         CPY #$008F
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      10

  8282 26 F3               BNE LIM
  8284 18 CE 00 50         LDY #$0050
                   LIM2
  8288 86 00               LDAA #00
  828A 18 A7 00            STAA $00,Y
  828D 18 08               INY
  828F 18 8C 00 6F         CPY #$006F
  8293 26 F3               BNE LIM2
  8295 39                  RTS

                   ***********************************
                   * ATENCION A INTERRUPCION SERIAL
                   ***********************************
                           ORG     $F100
  F100 B6 10 2E            LDAA    SCSR
  F103 B6 10 2F            LDAA    SCDR
  F106 97 00               STAA    ORDEN
  F108 3B                  RTI

                   ***********************************
                   * VECTOR INTERRUPCION SERIAL
                   ***********************************
                           ORG     $FFD6
  FFD6 F1 00               FCB     $F1,$00


                   ***********************************
                   *RESET
                   ***********************************
                           ORG     $FFFE
  FFFE 80 00       RESET   FCB     $80,$00
                   ***********************************

                           END     $8000

  Symbol Table 

  CASOOK             8197
  SERIAL             81DD
  A                  0001
  C                  0018
  D                  0017
  I                  0022
  L                  0019
  M                  0016
  O                  0023
  XB                 0020
  V                  0021
  ESCRIBECHAR        81A9
  CSCTL              105D
  CASOC1             80B1
  D_ERROR            8218
  SCCR1              102C
  SCCR2              102D
  CASOD1             8071
  I_ERROR            8242
  BERROR             0002
  BAUD               102B
  CASOV1             815A
  CICLO              800D
  CICLO1             81CC
  X_ERROR            8232
  DECENA             0052
  LIMPIEZA_SALTO     81A0
  SALTOINTERMEDIO1   8083
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      11

  ERROR_ESCRITURA    81F9
  SALTOINTERMEDIO2   816C
  CASOX1             812F
  OPT2               1038
  CICLATE            8009
  C_ERROR            8222
  UNIDAD             0053
  ERROR_1            80C3
  ERROR_2            8129
  RESET              FFFE
  ERROR_CICLO        8205
  LIM                8277
  ORDEN              0000
  CENTENA            0051
  HPRIO              103C
  SALTOINTERMEDIO1_ERROR 81A6
  SCSR               102E
  FIN                81C8
  L_ERROR            8228
  CASOL1             80E5
  V_ERROR            8238
  LIM2               8288
  DDRD               1009
  ERROR1             801E
  CASOM1             8043
  SCDR               102F
  CASOC              808E
  CASOD              8055
  CASOI              817B
  CASOL              80C9
  CASOM              8024
  CASOO              818F
  CASOV              8141
  FIN_ERROR          8248
  CASOX              8106
  SPCR               1028
  ERROR_SALTO        8212
  MIL                0050
  INICIO             8000
  LIMPIEZA           8249
  SALTOINTERMEDIO    80F7
